<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Oracle(SQL)에서 여러 개의 테이블 한 번에 drop하기 &middot; Changnam
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>프로그래밍에 관하여 글을 쓰는 블로그입니다.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about">About</a>
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/categories/">Categories</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/tags/">Tags</a>
        
      
    

    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2017. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="" title="Home">Changnam</a>
            <small>Developer's Lab</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Oracle(SQL)에서 여러 개의 테이블 한 번에 drop하기</h1>
  <span class="post-date">27 Nov 2016</span>
  <p>&nbsp;먼저 본 내용은 다음 질문의 내용을 정리한 내용임을 밝힙니다.</p>

<p><a href="http://stackoverflow.com/questions/26968999/oracle-drop-multiple-table-in-a-single-query">
stackoverflow 질문 링크
</a></p>

<p>&nbsp;SQL을 사용할 때, 여러 개의 테이블을 일일이 DROP TABLE 명령어를 써가면서 튜플들을 지워나가는 것은 상당히 귀찮은 일입니다. 그래서 검색을 해보니 저와 비슷한 생각을 했던 사람들이 있더군요. 그래서 이번 포스팅에서는 여러 개의 테이블을 한 번에 DROP하는 방법을 알아봅니다.</p>

<p>&nbsp;첫 번째 방법은 다음 명령어를 SQL에 입력하면 됩니다.</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">begin</span>
<span class="k">for</span> <span class="n">rec</span> <span class="k">in</span> <span class="p">(</span><span class="k">select</span> <span class="k">table_name</span> <span class="k">from</span> <span class="n">user_tables</span>
            <span class="k">where</span> <span class="k">table_name</span> <span class="k">like</span> <span class="s1">'%'</span><span class="p">)</span>
<span class="n">loop</span> <span class="k">execute</span> <span class="k">immediate</span> <span class="s1">'drop table '</span> <span class="o">||</span><span class="n">rec</span><span class="p">.</span><span class="k">table_name</span><span class="o">||</span> <span class="s1">' cascade constraint'</span><span class="p">;</span>
<span class="k">end</span> <span class="n">loop</span><span class="p">;</span>
<span class="k">end</span><span class="p">;</span>
<span class="o">/</span></code></pre></figure>

<p><img src="https://dl.dropbox.com/s/xwa3njepyxz6mev/drop%20multiple%20table.PNG" /></p>

<p>&nbsp;여기서 주의하실 점은 'loop execute ~' 이하의 문장은 '' 안에도 띄어쓰기를 정확히 쓰셔야 한다는 점입니다. 왜냐하면, 저 문장이</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">drop</span> <span class="k">table</span> <span class="n">myTable</span> <span class="k">cascade</span> <span class="k">constraint</span><span class="p">;</span></code></pre></figure>

<p>&nbsp;이 명령을 모든 user_tables에 대하여 반복적으로 실행하기 때문입니다.</p>

<p>&nbsp;두 번째 방법은 복붙입니다. 다음 명령어를 치게 되면 콘솔창에 현재 유저가 다룰 수 있는 테이블들의 DROP TABLE 명령어가 셋팅 됩니다. 그걸 복붙 하시면 됩니다.</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="s1">'DROP TABLE '</span> <span class="o">||</span> <span class="k">table_name</span> <span class="o">||</span> <span class="s1">' cascade constraint;'</span> <span class="k">FROM</span> <span class="n">user_tables</span><span class="p">;</span></code></pre></figure>


</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/articles/2017-02/swift_structAndClass">
            Swift의 Struct와 Class
            <small>01 Feb 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/articles/2017-01/swift_classBasic">
            Swift Class 기본
            <small>30 Jan 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/articles/2017-01/OOP_class_and_object_java">
            OOP - Class와 Object
            <small>24 Jan 2017</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
