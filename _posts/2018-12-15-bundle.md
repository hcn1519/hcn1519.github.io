---
layout: post
title: "Package와 Bundle"
excerpt: "Package와 Bundle에 대해 알아봅니다."
date: "2018-12-15 01:03:19 +0900"
categories: iOS macOS Bundle
tags: [iOS, macOS, Bundle]
---

## About Bundle

### Package

* Package란 `Finder`가 사용자에게 단일 파일로 보여주는 디렉토리를 의미합니다.

> A package is any directory that the Finder presents to the user as if it were a single file.

Package는 macOS에서 디렉토리를 추상화하는 기본적인 방법 중 하나입니다. Package는 디렉토리이지만 Opaque Directory로, `Finder`에서는 이를 단일한 파일로 인식합니다. 그래서 일반적인 디렉토리를 `Finder`에서 더블 클릭하여 열면 디렉토리 안으로 이동하지만, Package는 파일이 실행됩니다.
 
<img width="371" alt="2018-12-15 4 58 06" src="https://user-images.githubusercontent.com/13018877/50040637-9f52c780-008a-11e9-9ace-85449e14feb7.png">

위와 같이 `Finder`에서 아이콘을 오른쪽 클릭으로 확인할 때, **패키지 내용 보기**라는 옵션이 있는 것을 Package라고 보면 됩니다.

`Finder`에서 **응용 프로그램** 탭으로 이동한 후 아무 앱 아이콘을 오른쪽 클릭으로 확인하면 놀랍게도  **패키지 내용 보기** 옵션이 존재합니다.

<img width="1108" alt="2018-12-15 5 04 15" src="https://user-images.githubusercontent.com/13018877/50040687-b34af900-008b-11e9-8784-8646e476d0eb.png">

이처럼 application도 하나의 Package 종류 중 하나입니다. MacOS에서는 하나의 Application을 `.app`이라는 확장자가 붙는 Package로 취급합니다. 시스템(`Finder`)은 `.app`, `.bundle`, `.framework`, `.plugin` 와 같은 확장자를 가진 디렉토리를 Package로 인식합니다.

Package는 Finder로 바로 열 수 있는 디렉토리가 아닙니다. 그래서 앞서서 본 것처럼 **패키지 내용 보기**를 통해서 해당 디렉토리에 들어가거나, 터미널로 이동해서 들어갈 수 있습니다. 이런 방식으로 구성되어 있는 이유는 Package 안에는 해당 Package를 실행하는 코드와 리소스들이 들어가 있고, 이를 사용자가 임의로 바꾸는 것을 방지하기 위해서입니다.

### Bundle

* Bundle - 실행 가능한 코드와 코드에 의해 사용되는 리소스를 가진 디렉토리

> A bundle is a directory with a standardized hierarchical structure that holds executable code and the resources used by that code.

Bundle은 Package처럼 디렉토리의 한 종류를 지칭하지만, 실행 가능한 코드와 리소스를 포함하는 디렉토리입니다.  Bundle은 코드와 리소스의 구조를 정의합니다. 이 때, Bundle의 구조는 application, framework, plugin의 종류에 따라 차이가 있습니다. Bundle은 개발자와 OS가 코드를 좀 더 수월하게 다룰 수 있도록 합니다.

Bundle과 Package 개념을 서로 혼용해서 쓰는 경우가 많은데, 많은 Bundle이 Package이기도 하기 때문입니다. application 같은 경우는 `Finder`에서 사용자에게 단일한 파일로 노출되는 Package이면서, 실행 코드와 리소스를 포함하여 Bundle이기도 한 대표적인 예입니다.

#### Bundle Display Name

Bundle은 사용자에게 보여지는 이름과 실제 Bundle이 사용하는 File System의 이름을 따로 관리합니다. 그래서 `Finder`에서 이름을 변경하는 것은 Display Name만 변경하는 것입니다.

일반적으로 Application은 확장자인 `.app`이 생략된 Display Name을 사용합니다. 그래서 `Finder`에서 응용 프로그램의 확장자가 노출되지 않습니다. 또한 사용자의 언어에 맞춰서 Bundle의 Display name이 해당 언어에 맞춰서 나오도록 설정할 수도 있습니다.

---

# 참고자료

* [Bundle Programming Guide - About Bundle](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFBundles/AboutBundles/AboutBundles.html#//apple_ref/doc/uid/10000123i-CH100-SW1)
