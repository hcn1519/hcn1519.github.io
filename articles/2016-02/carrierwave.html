<!DOCTYPE html>
<html>

  <head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5VLL8HQ');</script>
  <!-- End Google Tag Manager -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5VL9R6T5ZN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5VL9R6T5ZN');
  </script>

  <!-- encoding -->
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">

  <!-- Primary Meta Tags -->
  <title>Railsì—ì„œ carrierwaveë¥¼ ì´ìš©í•˜ì—¬ AWS S3ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸° - hcn1519 DEV</title>
  <meta name="author" content="Changnam Hong">
  <meta name="title" content="Railsì—ì„œ carrierwaveë¥¼ ì´ìš©í•˜ì—¬ AWS S3ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸° - hcn1519 DEV">
  <meta name="description" content="Railsì—ì„œ ì´ë¯¸ì§€ë¥¼ ë‹¤ë£¨ëŠ” ëŒ€í‘œ gemì¤‘ í•˜ë‚˜ì¸ carrierwaveë¥¼ ì´ìš©í•˜ì—¬ AWS S3ì— ì´ë¯¸ì§€ë¥¼ ì˜¬ë¦¬ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.">
  <meta name="theme-color" content="#f1f3f4" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Railsì—ì„œ carrierwaveë¥¼ ì´ìš©í•˜ì—¬ AWS S3ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸°">
  <meta property="og:image" content="/public/assets/RailsBanner.jpg">
  <meta property="og:description" content="Railsì—ì„œ ì´ë¯¸ì§€ë¥¼ ë‹¤ë£¨ëŠ” ëŒ€í‘œ gemì¤‘ í•˜ë‚˜ì¸ carrierwaveë¥¼ ì´ìš©í•˜ì—¬ AWS S3ì— ì´ë¯¸ì§€ë¥¼ ì˜¬ë¦¬ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.">

  <!-- CSS -->
  <link rel="stylesheet" href="/public/sass/blogTheme.scss.css" async>
  <link rel="stylesheet" href="/public/sass/menu.scss.css" async>
  <link rel="stylesheet" href="/public/sass/syntax.scss.css" async>
  <!-- Icons -->
  <link rel="icon" type="image/png" href="/icons/android-chrome-512x512.png" sizes="512x512">
  <link rel="shortcut icon" href="/icons/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon_32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon_16x16.png">
  <link rel="icon" type="image/png" href="/icons/android_chrome_192x192.png" sizes="192x192">
  <link rel="manifest" href="/icons/site.webmanifest">
  
  <!-- Fonts -->
  <link rel="preload" href="/public/fonts/Age-Normal.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/public/fonts/Mona-Sans-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/public/fonts/Mona-Sans-SemiBold.woff2" as="font" type="font/woff2" crossorigin>
  <link type="application/atom+xml" rel="alternate" href="https://hcn1519.github.io/feed.xml" title="hcn1519 DEV" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml" async>

</head>


  <body>
      <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5VLL8HQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="" title="Home">HCN</a>
            <span>DEV</span>
          
          </h3>
        </div>
      </div>
      
      <nav class="menu">
  <div class="menu-container">
    <ul class="menu-list">
      <li class="menu-item">
        <a class="menu-link" href="/">Home</a>
      </li>

      
      
        
          
        
      
        
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/about">About</a>
            </li>
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/archives/">Archives</a>
            </li>
          
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/tags/">Tags</a>
            </li>
          
        
      
    </ul>
  </div>

  <a class="menu-toggle">
    <div class="menu-hamburger"></div>
  </a>
</nav>


      <div class="column-wrapper">  
        <aside class="side-menu-in-desktop">
          <ul class="menu-list">
  <li class="menu-item">
    <a class="menu-link" href="/">Home</a>
  </li>

  
  
    
      
    
  
    
      
    
  
    
      
        <li class="menu-item">
          <a class="menu-link" href="/about">About</a>
        </li>
      
    
  
    
      
        <li class="menu-item">
          <a class="menu-link" href="/archives/">Archives</a>
        </li>
      
    
  
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
  
    
  
    
      
        <li class="menu-item">
          <a class="menu-link" href="/tags/">Tags</a>
        </li>
      
    
  
</ul>
        </aside>
        <div class="container content">
          <div class="post">
  <h2 class="post-title">Railsì—ì„œ carrierwaveë¥¼ ì´ìš©í•˜ì—¬ AWS S3ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸°</h2>
  <span class="post-date">17 Feb 2016</span>
  
  <div class="post-image-feature">
    <img class="feature-image" src=
    
    "/public/assets/RailsBanner.jpg"
    
    alt="Railsì—ì„œ carrierwaveë¥¼ ì´ìš©í•˜ì—¬ AWS S3ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸° feature image">

    
  </div><!-- /.image-wrap -->
  

  

  

  
  

        
  
  
  
<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;h5&gt;</span>Carrierwaveë¥¼ ì´ìš©í•˜ì—¬ AWS S3ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸°<span class="nt">&lt;/h5&gt;</span>
  <span class="nt">&lt;ol&gt;</span>
    <span class="nt">&lt;li&gt;</span>í”„ë¡œì íŠ¸ ì§„í–‰ì„ ìœ„í•œ ê¸°ë³¸ scaffold êµ¬ì„±<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>carrierwave, mini_magick, fog ì„¤ì¹˜<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>carrierwave, mini_magick, fog ì…‹íŒ…<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>íš¨ìœ¨ì ìœ¼ë¡œ ì´ë¯¸ì§€ ì‚¬ìš©í•˜ê¸°<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ol&gt;</span></code></pre></figure>

<p>&nbsp;ì •ë³´ì˜ ëŒ€ë¶€ë¶„ì´ ë¬¸ì, ê·¸ë¦¼ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì€ ì¤‘ìš”í•œ ë¬¸ì œì…ë‹ˆë‹¤. ì´ë¯¸ì§€ë„ ë¬¸ìì—´ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì„œë²„ì— ì €ì¥ë˜ê³  ë³´ì—¬ì§ˆ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ì˜ˆì»¨ë°, ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒì— ì´ë¯¸ì§€ê°€ í¬í•¨ëœ ê¸€ì„ ì˜¬ë¦°ë‹¤ê³  í–ˆì„ ë•Œ, ë‚´ê°€ ì“´ ê¸€ì˜ ì œëª©ê³¼ ë‚´ìš©ì´ íŠ¹ì • ê²Œì‹œíŒì— ê°€ë©´ ë³´ì—¬ì§€ë“¯ì´ ì´ë¯¸ì§€ë„ ê°™ì´ ë³´ì—¬ì ¸ì•¼ë§Œ í•©ë‹ˆë‹¤.</p>
<p>&nbsp;ê·¸ë ‡ë‹¤ë©´ ì´ë¯¸ì§€ëŠ” ì–´ë–»ê²Œ ì €ì¥í•´ì•¼ ë˜ëŠ” ê±¸ê¹Œìš”? ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤ë§Œ, ì—¬ê¸°ì„œ ì†Œê°œí•˜ëŠ” ë°©ë²•ì€ AWS(ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤)ì—ì„œ ì œê³µí•˜ëŠ” í´ë¼ìš°ë“œ ì €ì¥ê³µê°„(S3)ì— ë‚´ê°€ ë§Œë“  ì´ë¯¸ì§€ë¥¼ ì €ì¥í•´ë†“ê³ , ì €ì¥ì‹œ ìƒì„±ë˜ëŠ” ì´ë¯¸ì§€ ê²½ë¡œë§Œ ë”°ë¡œ ìš°ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•´ì„œ ì´ë¯¸ì§€ê°€ í˜¸ì¶œë  í•„ìš”ê°€ ìˆì„ ë•Œ, ì§€ì†ì ìœ¼ë¡œ ë¶ˆëŸ¬ë“¤ì´ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ê°„ë‹¨í•˜ê²Œ ìƒê°í•´ì„œ êµ¬ê¸€ë“œë¼ì´ë¸Œë‚˜ ë“œëë°•ìŠ¤ì— ìš°ë¦¬ê°€ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ê²Œ ë˜ë©´ íŠ¹ì • ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ”ë°, ì—¬ê¸°ì„œ ì´ë¯¸ì§€ ê²½ë¡œë§Œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” ì‘ì—…ì„ ìë™í™”í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>
<p>&nbsp;ê·¸ë¦¬ê³  ì´ ì‘ì—…ì„ ë„ì™€ì£¼ëŠ” railsì˜ gemë“¤ì´ ë°”ë¡œ <code>carrierwave</code>, <code>mini_magick</code>, <code>fog</code>ì…ë‹ˆë‹¤. ì´ í¬ìŠ¤íŒ…ì—ì„œëŠ” í•´ë‹¹ gemë“¤ì„ ì–´ë–»ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ì‘ì—…ì— ì‚¬ìš©ëœ rubyì™€ rails ë²„ì „ì€ ê°ê° <code>ruby 2.2.2</code>, <code>rails 4.2.4</code>ì…ë‹ˆë‹¤.</p>

<h4>1. í”„ë¡œì íŠ¸ ì§„í–‰ì„ ìœ„í•œ ê¸°ë³¸ scaffold êµ¬ì„±</h4>
<p>&nbsp;ë¨¼ì € ì´ë¯¸ì§€ë¥¼ ì˜¬ë¦¬ê¸° ìœ„í•œ ê²Œì‹œíŒì„ scaffoldë¡œ ê°„ë‹¨í•˜ê²Œ êµ¬ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">rails generate scaffold Post title:string content:text</code></pre></figure>

<p>&nbsp;ë‹¤ìŒìœ¼ë¡œ scaffoldë¡œ ë§Œë“  indexí˜ì´ì§€ë¥¼ ê¸°ë³¸ í˜ì´ì§€ë¡œ ë§Œë“¤ê¸° ìœ„í•´ <code>config/route.rb</code>ì— rootë¥¼ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#config/route.rb</span>
<span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>
  <span class="n">root</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s1">'posts#index'</span>
  <span class="n">resources</span> <span class="ss">:posts</span>
<span class="k">end</span></code></pre></figure>

<p>ë‹¤ìŒìœ¼ë¡œ migration í•´ì£¼ì‹œë©´ ê¸°ë³¸ ì„¤ì •ì€ ëë‚©ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">rake db:migrate</code></pre></figure>

<h4>2. carrierwave, mini_magick, fog ì„¤ì¹˜</h4>
<p>&nbsp;gemì˜ ì„¤ì¹˜ì— ì•ì„œì„œ ê°ê°ì˜ gemì´ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ ê°„ëµí•˜ê²Œ ì•Œì•„ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<ol>
  <li><code>Carreirwave</code>ëŠ” ì´ë¯¸ì§€ íŒŒì¼ë¿ë§Œ ì•„ë‹ˆë¼, ì—¬ëŸ¬ê°€ì§€ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ëŠ” ê²ƒì„ ë„ì™€ì£¼ëŠ” gemì…ë‹ˆë‹¤.</li>
  <li><code>Minimagick</code>ì€ image_magickì˜ railsë²„ì „ì¸ë°, ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³ , ìˆ˜ì •í•˜ê³ , ì§€ìš°ëŠ” ì‘ì—…ë“¤ì„ ë„ì™€ì£¼ëŠ” gemì…ë‹ˆë‹¤.(ìœ ì‚¬í’ˆ: Rmagick)</li>
  <li><code>Fog</code>ëŠ” í´ë¼ìš°ë“œì— íŒŒì¼ì˜ ì €ì¥ì„ ì‰½ê²Œí•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” gemì…ë‹ˆë‹¤.</li>
</ol>
<p>&nbsp;ê°ê°ì˜ gemì´ í•˜ëŠ” ì¼ì„ ë³´ì‹œë©´ ì´ë¯¸ì§€ ì—…ë¡œë“œì— ì™œ í•´ë‹¹ gemë“¤ì´ í•„ìš”í•œì§€ ì•Œ ìˆ˜ ìˆì„ ê²ƒì´ë¼ ìƒê°ë©ë‹ˆë‹¤. ì´ì œ í”„ë¡œì íŠ¸ì— ê°ê°ì˜ gemì„ ì„¤ì¹˜í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#Gemfile</span>
<span class="n">gem</span> <span class="s1">'carrierwave'</span><span class="p">,</span> <span class="ss">github: </span><span class="s1">'carrierwaveuploader/carrierwave'</span>
<span class="n">gem</span> <span class="s1">'mini_magick'</span>
<span class="n">gem</span> <span class="s1">'fog-aws'</span></code></pre></figure>

<p>&nbsp;ë‹¤ìŒìœ¼ë¡œ</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">bundle install</code></pre></figure>

<p>&nbsp;ê¹Œì§€ í•´ì£¼ë©´ í•„ìš”í•œ gemì˜ ì„¤ì¹˜ê°€ ì™„ë£Œë©ë‹ˆë‹¤.</p>
<p>&nbsp;ë˜í•œ minimagickì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” image_magickë„ ì„¤ì¹˜í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">sudo apt-get -y install imagemagick</code></pre></figure>

<h4>2. carrierwave, mini_magick, fog ì…‹íŒ…</h4>

<p>&nbsp;ë‹¤ìŒìœ¼ë¡œ í•´ë‹¹ gemë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡, ê°ê°ì˜ githubí˜ì´ì§€ì—ì„œ ì œê³µí•˜ëŠ” ì‚¬ìš©ë²•ì„ í™œìš©í•˜ì—¬ í•´ë‹¹ gemë“¤ì„ ì‚¬ìš©í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>

<h5>(1) Uploader ì…‹íŒ…</h5>

<p>&nbsp;ê°€ì¥ ë¨¼ì € carrierwave uploader ì…‹íŒ…ì„ ìœ„í•´</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">rails generate uploader S3</code></pre></figure>

<p>&nbsp;ì•„ë˜ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ <code>app/uploaders/s3_uploader.rb</code>ì— ìƒˆë¡œìš´ íŒŒì¼ì´ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="https://dl.dropbox.com/s/e3xbpkna2rzgnmf/uploader.PNG" /></p>

<p>&nbsp;í•´ë‹¹ íŒŒì¼ì— ë“¤ì–´ê°€ë³´ë©´, carrierwaveì—ì„œ ì œê³µí•˜ëŠ” ë‹¤ì–‘í•œ ì €ì¥ ì˜µì…˜ì´ ì£¼ì„ì²˜ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">S3Uploader</span> <span class="o">&lt;</span> <span class="no">CarrierWave</span><span class="o">::</span><span class="no">Uploader</span><span class="o">::</span><span class="no">Base</span>

  <span class="c1"># ì´ë¯¸ì§€ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆëŠ” íˆ´ ì„¤ì •</span>
  <span class="c1"># Include RMagick or MiniMagick support:</span>
  <span class="c1"># include CarrierWave::RMagick</span>
  <span class="kp">include</span> <span class="no">CarrierWave</span><span class="o">::</span><span class="no">MiniMagick</span>

  <span class="c1"># ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  ì¥ì†Œì˜ ì¢…ë¥˜ë¥¼ ì„¤ì •</span>
  <span class="c1"># Choose what kind of storage to use for this uploader:</span>
  <span class="c1"># storage :file</span>
  <span class="n">storage</span> <span class="ss">:fog</span>

  <span class="c1">#ì´ë¯¸ì§€ê°€ ì €ì¥ë˜ëŠ” ìœ„ì¹˜</span>
  <span class="c1"># Override the directory where uploaded files will be stored.</span>
  <span class="c1"># This is a sensible default for uploaders that are meant to be mounted:</span>
  <span class="k">def</span> <span class="nf">store_dir</span>
    <span class="s2">"uploads/</span><span class="si">#{</span><span class="n">model</span><span class="p">.</span><span class="nf">class</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">underscore</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="n">mounted_as</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="n">model</span><span class="p">.</span><span class="nf">id</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>

  <span class="c1"># ìš”ì²­í•œ ì´ë¯¸ì§€ê°€ ì—†ì„ ë•Œ ëŒ€ì²´í•´ì„œ ì‚¬ìš©í•˜ëŠ” default ì´ë¯¸ì§€ ì„¤ì •</span>
  <span class="c1"># Provide a default URL as a default if there hasn't been a file uploaded:</span>
  <span class="c1"># def default_url</span>
  <span class="c1">#   # For Rails 3.1+ asset pipeline compatibility:</span>
  <span class="c1">#   # ActionController::Base.helpers.asset_path("fallback/" + [version_name, "default.png"].compact.join('_'))</span>
  <span class="c1">#</span>
  <span class="c1">#   "/images/fallback/" + [version_name, "default.png"].compact.join('_')</span>
  <span class="c1"># end</span>

  <span class="c1"># ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  ì‚¬ì´ì¦ˆ ì¡°ì •</span>
  <span class="c1"># Process files as they are uploaded:</span>
  <span class="c1"># process scale: [200, 300]</span>
  <span class="c1">#</span>
  <span class="c1"># def scale(width, height)</span>
  <span class="c1">#   # do something</span>
  <span class="c1"># end</span>

  <span class="c1"># ì—¬ëŸ¬ê°€ì§€ ì´ë¯¸ì§€ì˜ ë²„ì „ ì„¤ì •</span>
  <span class="c1"># Create different versions of your uploaded files:</span>
  <span class="c1"># version :thumb do</span>
  <span class="c1">#   process resize_to_fit: [50, 50]</span>
  <span class="c1"># end</span>

  <span class="c1"># ì €ì¥ë  íŒŒì¼ë“¤ì˜ í™•ì¥ì ì„¤ì •</span>
  <span class="c1"># Add a white list of extensions which are allowed to be uploaded.</span>
  <span class="c1"># For images you might use something like this:</span>
  <span class="k">def</span> <span class="nf">extension_whitelist</span>
    <span class="sx">%w(jpg jpeg gif png)</span>
  <span class="k">end</span>

  <span class="c1"># ì €ì¥ë˜ëŠ” íŒŒì¼ì˜ ì´ë¦„ ì„¤ì •</span>
  <span class="c1"># Override the filename of the uploaded files:</span>
  <span class="c1"># Avoid using model.id or version_name here, see uploader/store.rb for details.</span>
  <span class="c1"># def filename</span>
  <span class="c1">#   "something.jpg" if original_filename</span>
  <span class="c1"># end</span>
<span class="k">end</span></code></pre></figure>

<p>&nbsp;ê°ê°ì˜ ì˜µì…˜ì´ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ ì£¼ì„ìœ¼ë¡œ ê°„ëµí•˜ê²Œ ì„œìˆ í•´ ë†“ì•˜ëŠ”ë°, í•„ìš”í•œ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” <a href="https://github.com/carrierwaveuploader/carrierwave" target="_blank">Carrierwave github í˜ì´ì§€</a>ë¥¼ ì°¸ì¡°í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ì—¬ê¸°ì„œ ì„¤ì •ì€ ìœ„ì™€ ë™ì¼í•˜ê²Œ í•˜ë©´ ë©ë‹ˆë‹¤. ì§šê³  ë„˜ì–´ê°ˆ ì ì€ mini_magickì„ ì„¤ì •í•´ë‘ê³ , storageë¥¼ fogë¡œ ë³€ê²½í•˜ì—¬ s3ì— ì´ë¯¸ì§€ ì—…ë¡œë“œê°€ ë¬¸ì œ ì—†ì´ ë  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ë‘ì—ˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤.</p>

<h5>(2) Model ì…‹íŒ…</h5>
<p>&nbsp;ë‹¤ìŒìœ¼ë¡œ ë§Œë“¤ì–´ë†“ì€ Post modelì— ê°ê°ì˜ postê°€ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì´ë¯¸ì§€ ë§í¬ê°€ ì €ì¥ë  ê³µê°„ì„ í™•ë³´í•´ë‘ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ì— ë”°ë¼ ê¸°ì¡´ modelì— ìƒˆë¡œìš´ ë¬¸ìì—´ ì €ì¥ ê³µê°„(column)ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">rails g migration add_s3_to_posts image:string
rake db:migrate</code></pre></figure>

<p>&nbsp;ì´ë ‡ê²Œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ postëª¨ë¸ì— imageë¼ëŠ” ì´ë¦„ìœ¼ë¡œ stringì„ ì €ì¥í•  ìˆ˜ ìˆëŠ” ê³µê°„ì´ ìƒì„±ë©ë‹ˆë‹¤. ë˜í•œ post ëª¨ë¸ì´ uploaderë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ mount ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#app/models/post.rb</span>
<span class="k">class</span> <span class="nc">Post</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">mount_uploader</span> <span class="ss">:image</span><span class="p">,</span> <span class="no">S3Uploader</span>
<span class="k">end</span></code></pre></figure>

<p>&nbsp;ì—¬ê¸°ê¹Œì§€ê°€ carrierwave ê´€ë ¨ ì…‹íŒ…ì´ê³ , ë‹¤ìŒìœ¼ë¡œ fog ì…‹íŒ…ì„ ì§„í–‰í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>

<h5>(3) config ì„¤ì •</h5>
<p>&nbsp;<code>fog-aws</code>ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” <code>config/initializers</code>ì— fog.rb íŒŒì¼ì„ ì§ì ‘ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‹¤ìŒì˜ ì½”ë“œë¥¼ í•´ë‹¹ íŒŒì¼ì— ë„£ì–´ì£¼ì„¸ìš”.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">CarrierWave</span><span class="p">.</span><span class="nf">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">fog_provider</span> <span class="o">=</span> <span class="s1">'fog/aws'</span>                        <span class="c1"># required</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">fog_credentials</span> <span class="o">=</span> <span class="p">{</span>
    <span class="ss">provider:              </span><span class="s1">'AWS'</span><span class="p">,</span>                        <span class="c1"># required</span>
    <span class="ss">aws_access_key_id:     </span><span class="s1">'xxx'</span><span class="p">,</span>                        <span class="c1"># required</span>
    <span class="ss">aws_secret_access_key: </span><span class="s1">'yyy'</span><span class="p">,</span>                        <span class="c1"># required</span>
    <span class="ss">region:                </span><span class="s1">'ap-northeast-2'</span><span class="p">,</span>             <span class="c1"># optional, defaults to 'us-east-1'</span>
  <span class="p">}</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">fog_directory</span>  <span class="o">=</span> <span class="s1">'name_of_directory'</span>            <span class="c1"># required</span>
<span class="k">end</span></code></pre></figure>

<p>&nbsp;ìœ„ ì½”ë“œì—ì„œ id, key, region, 'name_of_directory'ë¶€ë¶„ì„ ì—¬ëŸ¬ë¶„ë“¤ì˜ ì„¤ì •ì— ë§ê²Œ ë³€ê²½í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ regionì€ ì„œìš¸ì˜ ê²½ìš° ap-northeast-2ì´ë©°, ë„ì¿„ëŠ” ap-northeast-1ì…ë‹ˆë‹¤. IDì™€ Keyì˜ ê²½ìš° s3 íƒ­ì—ì„œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê³ ,</p>

<p><img src="https://dl.dropbox.com/s/dpzkl7v69172vsb/aws_users.png" /></p>

<p>&nbsp;ìš°ì¸¡ ìƒë‹¨ì˜ ë³¸ì¸ ê³„ì •íƒ­ì˜ Security Credentialsì—ì„œ ìƒì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  Security Credentialsì—ì„œ usersíƒ­ì„ ëˆ„ë¥´ê³  userë¥¼ ìƒì„±í•˜ë˜, ì¤‘ê°„ì— idì™€ keyì˜ ê²½ìš° ë”°ë¡œ ë©”ëª¨í•´ë‘ì‹œê³ , <code>fog.rb</code>ì— ì±„ì›Œë„£ìœ¼ì‹œë©´ ë©ë‹ˆë‹¤. ë˜í•œ Permissions í•­ëª©ì—ì„œ Attach policyë¥¼ í•œ í›„ s3full_accessë¡œ í•œ ê°œì˜ policyë¥¼ ìƒì„±í•´ì•¼ s3ì— ì •ìƒì ìœ¼ë¡œ ì‚¬ì§„ì„ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>&nbsp;ë‹¤ìŒìœ¼ë¡œ fog_directoryì˜ ê²½ìš° S3ì˜ Bucket ì´ë¦„ìœ¼ë¡œ, ê°„ë‹¨í•œ ìƒì„± ë°©ë²•ì„ ì•Œë ¤ì£¼ëŠ” ë§í¬ë¡œ ì„¤ëª…ì„ ëŒ€ì‹ í•˜ê² ìŠµë‹ˆë‹¤.</p>
<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/gsg/CreatingABucket.html" target="_blank">Creating a Bucket</a></p>

<h5>(4) Viewì—ì„œ ì´ë¯¸ì§€ íŒŒì¼ì„ ì˜¬ë¦¬ê³   ë³¼ ìˆ˜ ìˆê²Œ í•˜ëŠ” parameter ì…‹íŒ…</h5>

<p>&nbsp;ì´ì œ íŒŒì¼ì„ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ <code>:image</code> parameter ì „ì†¡ ì…‹íŒ…ì„ í•´ì£¼ê³ , viewì—ì„œ í•´ë‹¹ ì´ë¯¸ì§€ê°€ ë³´ì´ë„ë¡ ì„¤ì •í•´ì£¼ê² ìŠµë‹ˆë‹¤.</p>
<p>&nbsp;ê°€ì¥ ë¨¼ì € <code>app/views/posts/_form.html.erb</code>ì˜ ê²½ìš°</p>

<figure class="highlight"><pre><code class="language-erb" data-lang="erb"><span class="cp">&lt;%=</span> <span class="n">form_for</span><span class="p">(</span><span class="vi">@post</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">if</span> <span class="vi">@post</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">any?</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"error_explanation"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h2&gt;</span><span class="cp">&lt;%=</span> <span class="n">pluralize</span><span class="p">(</span><span class="vi">@post</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">count</span><span class="p">,</span> <span class="s2">"error"</span><span class="p">)</span> <span class="cp">%&gt;</span> prohibited this post from being saved:<span class="nt">&lt;/h2&gt;</span>

      <span class="nt">&lt;ul&gt;</span>
      <span class="cp">&lt;%</span> <span class="vi">@post</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">full_messages</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">message</span><span class="o">|</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">message</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"field"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:title</span> <span class="cp">%&gt;</span><span class="nt">&lt;br&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:title</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"field"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:content</span> <span class="cp">%&gt;</span><span class="nt">&lt;br&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">text_area</span> <span class="ss">:content</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"field"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:image</span> <span class="cp">%&gt;</span><span class="nt">&lt;br&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">file_field</span> <span class="ss">:image</span><span class="p">,</span> <span class="ss">accept: </span><span class="s1">'image/png,image/gif,image/jpeg'</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"actions"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">submit</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span></code></pre></figure>

<p>&nbsp;ì´ì— ëŒ€í•œ ê²°ê³¼ë¬¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ formì´ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.</p>
<p><img src="https://dl.dropbox.com/s/z76rqnc9sreneew/new.PNG" /></p>

<p>&nbsp;formì„ êµ¬ì„±í•  ë•Œ rails scaffoldì—ì„œëŠ” parameterë¥¼ ë‘ ë²ˆ ì²´í¬í•˜ëŠ” ì‹œìŠ¤í…œì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. <code>app/controllers/posts_controller.rb</code>ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">PostsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="kp">private</span>
    <span class="c1"># Never trust parameters from the scary internet, only allow the white list through.</span>
    <span class="k">def</span> <span class="nf">post_params</span>
      <span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:post</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:content</span><span class="p">,</span> <span class="ss">:image</span><span class="p">)</span>
    <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>&nbsp;rails scaffoldëŠ” ìœ„ì˜ <code>post_params</code>ë¶€ë¶„ì—ì„œ viewì—ì„œ ë„˜ì–´ ì˜¨ parameterì™€ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í—ˆìš©í•  parameterë¥¼ ë¹„êµí•˜ê³ , í—ˆê°€ ì„¤ì •ì„ í•˜ì§€ ì•Šì€ parameterì— ëŒ€í•´ì„œëŠ” ë°ì´í„°ë¥¼ ë„˜ê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤.(<a href="http://hcn1519.github.io/articles/2016-02/parameter" target="_blank">Strong parameter</a>) ë”°ë¼ì„œ ìœ„ ì²˜ëŸ¼ <code>:image</code>ë¥¼ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>

<p>&nbsp;ë‹¤ìŒìœ¼ë¡œ <code>app/views/posts/index.html.erb</code>ëŠ”</p>

<figure class="highlight"><pre><code class="language-erb" data-lang="erb"><span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"notice"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">notice</span> <span class="cp">%&gt;</span><span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;h1&gt;</span>Listing Posts<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;table&gt;</span>
  <span class="nt">&lt;thead&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;th&gt;</span>Title<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th&gt;</span>Content<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">colspan=</span><span class="s">"3"</span><span class="nt">&gt;&lt;/th&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/thead&gt;</span>

  <span class="nt">&lt;tbody&gt;</span>
    <span class="cp">&lt;%</span> <span class="vi">@posts</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">post</span><span class="p">.</span><span class="nf">title</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">post</span><span class="p">.</span><span class="nf">content</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">image_tag</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">post</span><span class="p">.</span><span class="nf">image</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Show'</span><span class="p">,</span> <span class="n">post</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Edit'</span><span class="p">,</span> <span class="n">edit_post_path</span><span class="p">(</span><span class="n">post</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Destroy'</span><span class="p">,</span> <span class="n">post</span><span class="p">,</span> <span class="ss">method: :delete</span><span class="p">,</span> <span class="ss">data: </span><span class="p">{</span> <span class="ss">confirm: </span><span class="s1">'Are you sure?'</span> <span class="p">}</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span>

<span class="nt">&lt;br&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'New Post'</span><span class="p">,</span> <span class="n">new_post_path</span> <span class="cp">%&gt;</span></code></pre></figure>

<p>&nbsp;ë§ˆì§€ë§‰ìœ¼ë¡œ <code>app/views/posts/show.html.erb</code>ëŠ”</p>

<figure class="highlight"><pre><code class="language-erb" data-lang="erb"><span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"notice"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">notice</span> <span class="cp">%&gt;</span><span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;strong&gt;</span>Title:<span class="nt">&lt;/strong&gt;</span>
  <span class="cp">&lt;%=</span> <span class="vi">@post</span><span class="p">.</span><span class="nf">title</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;strong&gt;</span>Content:<span class="nt">&lt;/strong&gt;</span>
  <span class="cp">&lt;%=</span> <span class="vi">@post</span><span class="p">.</span><span class="nf">content</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;strong&gt;</span>ì‚¬ì§„:<span class="nt">&lt;/strong&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">image_tag</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="vi">@post</span><span class="p">.</span><span class="nf">image</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/p&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Edit'</span><span class="p">,</span> <span class="n">edit_post_path</span><span class="p">(</span><span class="vi">@post</span><span class="p">)</span> <span class="cp">%&gt;</span> |
<span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Back'</span><span class="p">,</span> <span class="n">posts_path</span> <span class="cp">%&gt;</span></code></pre></figure>

<p>&nbsp;ìœ„ì˜ ê²°ê³¼ë¬¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ <code>show.html.erb</code>ê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.</p>
<p><img src="https://dl.dropbox.com/s/7z11wm9fabya0td/show.png" /></p>

<p>&nbsp;ë˜í•œ AWS S3ì— í•´ë‹¹ ì´ë¯¸ì§€ íŒŒì¼ì´ ì˜ ì €ì¥ë˜ì–´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="https://dl.dropbox.com/s/xa6nzl9g4u5g11u/s3_check.png" /></p>

<p>&nbsp;ì§€ê¸ˆê¹Œì§€ ê¸°ë³¸ì ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ S3ì— ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.</p>

<h4>4. íš¨ìœ¨ì ìœ¼ë¡œ ì´ë¯¸ì§€ ì‚¬ìš©í•˜ê¸°</h4>

<p>&nbsp;ìœ„ì—ì„œ ì†Œê°œí•œ ë°©ë²•ë§Œìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒë„ ê°„ë‹¨í•œ ì´ë¯¸ì§€ë¥¼ ë‹¤ë£¨ëŠ”ë° ì „í˜€ ë¬´ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì´ë¯¸ì§€ íŒŒì¼ì˜ í¬ê¸°ê°€ ë„ˆë¬´ ì»¤ì„œ ì‚¬ì´íŠ¸ ë¡œë”©ì— ì§€ì¥ì„ ì£¼ëŠ” ìƒí™©ì´ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”? í•œ í˜ì´ì§€ì— ë§ì€ ì´ë¯¸ì§€ë¥¼ ë¡œë”©í•˜ëŠ” ì„œë¹„ìŠ¤(ex - ì†Œì…œ ì»¤ë¨¸ìŠ¤, ì‡¼í•‘ëª° ë“±)ì—ì„œë„ ì›ë³¸ ì‚¬ì§„ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì˜¬ë°”ë¥¸ ë°©ë²•ì¼ê¹Œìš”?</p>
<p>&nbsp;ë¬¼ë¡  ì›ë³¸ ì‚¬ì§„ì„ ê·¸ëŒ€ë¡œ ì¨ì•¼í•˜ëŠ” ì„œë¹„ìŠ¤ë„ ë¶„ëª… ì¡´ì¬í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì—ëŠ” ì‚¬ì§„ì˜ í€„ë¦¬í‹°ë¥¼ ì¡°ê¸ˆì€ ì¤„ì´ë”ë¼ë„ ì†ë„ë¥¼ ê°œì„ í•˜ëŠ” ë°©í–¥ì„ ì„ íƒí•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì‚¬ì‹¤ 2MB í¬ê¸°ì˜ ì´ë¯¸ì§€ë¥¼ 200KBë¡œ ì¤„ì¸ë‹¤ê³  í–ˆì„ ë•Œ, ì´ë¯¸ì§€ í€„ë¦¬í‹°ê°€ ìš°ë ¤í•  ì •ë„ë¡œ ë§ì´ ë–¨ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ë°˜ë©´ì—  ë¡œë”©ì†ë„ëŠ” ì—„ì²­ë‚˜ê²Œ ë¹¨ë¼ì§‘ë‹ˆë‹¤.</p>

<p>&nbsp;ê·¸ë ‡ë‹¤ë©´ ì´ë¯¸ì§€ ìš©ëŸ‰ì€ ì–´ë–¤ ì‹ìœ¼ë¡œ ì¤„ì—¬ì•¼ í• ê¹Œìš”? ê°€ì¥ ì¤‘ìš”í•œ ìš”ì†ŒëŠ” ì‚¬ì§„ì˜ í•´ìƒë„(í¬ê¸°)ì…ë‹ˆë‹¤. ì¦‰ <code>1920x1080</code> í¬ê¸°ì˜ ì‚¬ì§„ì„ <code>480x270</code>ì˜ ì‚¬ì´ì¦ˆë¡œ ì¤„ì´ê²Œ ë˜ë©´ ìš©ëŸ‰ì´ ë§ì´ ì¤„ì–´ë“¦ë‹ˆë‹¤. ì‚¬ì§„ í¬ê¸°ë¥¼ ì´ë ‡ê²Œ ë§ì´ ì¤„ì—¬ë„ ë˜ë‚˜?ë¼ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ ìŠ¤ë§ˆíŠ¸í°ì€ ë„ˆë¹„(width)ê°€ ìµœëŒ€ 400px ìˆ˜ì¤€ì…ë‹ˆë‹¤. ì¦‰, ì‚¬ì§„ì„ ì ì ˆíˆ ì¤„ì—¬ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ íš¨ìœ¨ì ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ë¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>&nbsp;í•˜ì§€ë§Œ, ë°ìŠ¤í¬íƒ‘, ë…¸íŠ¸ë¶ì—ì„œ ì‘ì€ ì´ë¯¸ì§€ê°€ í¬ê²Œ ëŠ˜ì—¬ì ¸ì„œ ë‚˜ì˜¤ëŠ” í˜„ìƒë„ ë°”ëŒì§í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ°ë°, CarrierwaveëŠ” ê³ ë§™ê²Œë„ ë‹¤ì–‘í•œ í™”ë©´ì—ì„œ ì ì ˆí•œ ì´ë¯¸ì§€ê°€ ì¶œë ¥ë  ìˆ˜ ìˆë„ë¡ ì´ë¯¸ì§€ë¥¼ ì—¬ëŸ¬ê°€ì§€ 'ë²„ì „'ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì¦‰, í° í™”ë©´ì—ëŠ” í° í™”ë©´ì— ë§ëŠ” í° ì´ë¯¸ì§€ë¥¼ ë³´ì—¬ì£¼ê³ , ì‘ì€ í™”ë©´ì—ì„œëŠ” ì‘ì€ í™”ë©´ì— ë§ê²Œ ì‘ì€ ì´ë¯¸ì§€ë§Œ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>

<p>&nbsp;ê·¸ë¦¬ê³  ì—¬ëŸ¬ê°€ì§€ ì´ë¯¸ì§€ 'ë²„ì „'ì€ <code>app/uploaders/s3_uploader.rb</code>ì— minimagickì„ í†µí•´ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">S3Uploader</span> <span class="o">&lt;</span> <span class="no">CarrierWave</span><span class="o">::</span><span class="no">Uploader</span><span class="o">::</span><span class="no">Base</span>
  <span class="kp">include</span> <span class="no">CarrierWave</span><span class="o">::</span><span class="no">MiniMagick</span>
  
  <span class="n">version</span> <span class="ss">:detail</span> <span class="k">do</span>
    <span class="n">process</span> <span class="ss">:resize_to_fit</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">600</span><span class="p">,</span> <span class="mi">10000</span><span class="p">]</span>
  <span class="k">end</span>
  <span class="n">version</span> <span class="ss">:main</span> <span class="k">do</span>
      <span class="n">process</span> <span class="ss">:resize_to_fill</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">240</span><span class="p">,</span> <span class="mi">180</span><span class="p">]</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>&nbsp;ìœ„ì˜ ì˜ˆì‹œì²˜ëŸ¼ ì„¤ì •í•˜ë©´ CarrierwaveëŠ” detailì´ë¼ëŠ” ë²„ì „ì˜ ì´ë¯¸ì§€ì™€ mainì´ë¼ëŠ” ì´ë¯¸ì§€ë¥¼ ë³¸ë˜ ì´ë¯¸ì§€ë¥¼ ì¡°ê±´ì— ë”°ë¼ S3 ì•ˆì— ì €ì¥í•©ë‹ˆë‹¤. ìœ„ì˜ ì˜ˆì‹œì˜ ê²½ìš° detail ë²„ì „ì˜ ì‚¬ì§„ì€ ë„ˆë¹„ë¥¼ 600pxë¡œ ê³ ì •í•˜ê³ , ì„¸ë¡œë¥¼ ë§ì¶˜ ì‚¬ì§„ì´ ë©ë‹ˆë‹¤. main ë²„ì „ì˜ ê²½ìš° 4:3 ë¹„ìœ¨ë¡œ ì‚¬ì§„ì„ ì¶•ì†Œ ì €ì¥í•œ ê²ƒì…ë‹ˆë‹¤. ê°ê°ì˜ ë²„ì „ë³„ ì‚¬ìš©ë°©ë²•ì€ ê°„ë‹¨í•©ë‹ˆë‹¤. ê·¸ëƒ¥ ê¸°ì¡´ ì´ë¯¸ì§€ ê²½ë¡œì— <code>.detail</code>, <code>.main</code>ë§Œ ì¶”ê°€í•´ì£¼ë©´ ë©ë‹ˆë‹¤. ìœ„ì˜  ì˜ˆì‹œì—ì„œ <code>app/views/posts/show.html.erb</code>ì˜ ì´ë¯¸ì§€ íƒœê·¸ì¸ <code>&lt;%= image_tag("#{@post.image}") %&gt;</code>ì˜ ê²½ìš°, <code>&lt;%= image_tag("#{@post.image.main}") %&gt;</code>ì´ë¼ëŠ” í˜•ì‹ìœ¼ë¡œ ì“°ê²Œ ë˜ë©´, mainì‚¬ì´ì¦ˆë¡œ ì €ì¥ëœ ì´ë¯¸ì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.&lt;/code&gt; ì¶”ê°€ì ìœ¼ë¡œ <code>:resize_to_fill</code>ì€ ì € ë¹„ìœ¨ì— ë§ê²Œ ì‚¬ì§„ì„ ë§ì¶”ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ê³ , <code>:resize_to_fit</code>ì€ ì§§ì€ ê¸¸ì´ì— ë§ì¶°ì„œ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì„ ì¡°ì ˆí•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.</p>
<h5>(ì°¸ê³ )ì¶”ê°€ ì»¤ìŠ¤í„°ë§ˆì´ì§•</h5>

<p>&nbsp;ì—¬ê¸°ê¹Œì§€ ì˜ ë”°ë¼ì˜¤ì…¨ìœ¼ë©´, ì´ë¯¸ì§€ ë²„ì „ì— ëŒ€í•œ ì´í•´ì™€ ì‚¬ìš©ë²•ê¹Œì§€ ì˜ ì´í•´í–ˆìœ¼ë¦¬ë¼ ìƒê°ë©ë‹ˆë‹¤. ì´ ë¶€ë¶„ì€ ì œê°€ Carrierwaveë¥¼ ì‚¬ìš©í•  ë•Œ ë§ë‹¥ëœ¨ë ¸ë˜ ì´ìŠˆì™€ ê´€ë ¨ëœ ì¶”ê°€ ì»¤ìŠ¤í„°ë§ˆì´ì§• ë‚´ìš©ì…ë‹ˆë‹¤.</p>
<p>&nbsp;ë‹¹ì‹œ í”„ë¡œì íŠ¸ì—ì„œ ì €ëŠ” ì‚¬ìš©ìê°€ ìŠ¤ë§ˆíŠ¸í° ì‚¬ì§„ì„ ì›¹ì— ì˜¬ë¦´ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì„ ë„£ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ìµœê·¼ ë‚˜ì˜¤ëŠ” ì•„ì´í°6, ê°¤ëŸ­ì‹œS6, G4 ë“±ì˜ ìŠ¤ë§ˆíŠ¸í°ì€ ëª¨ë‘ í•´ìƒë„ê°€ ì–´ë§ˆì–´ë§ˆí•©ë‹ˆë‹¤.(ì•„ì´í° <code>1920x1080</code>, ì•ˆë“œë¡œì´ë“œ <code>2560x1440</code>) ê·¸ë˜ì„œ ìœ„ì—ì„œ ì‚¬ìš©í•œ ë°©ì‹ëŒ€ë¡œ ì‚¬ì§„ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì—¬ì•¼ í–ˆëŠ”ë°, ë¬¸ì œëŠ” ìŠ¤ë§ˆíŠ¸í° ì‚¬ì§„ ìœ í˜•ì´ <strong>ë‘ ê°€ì§€</strong>ê°€ ìˆë‹¤ëŠ” ì ì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ìƒˆë¡­ê²Œ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">S3Uploader</span> <span class="o">&lt;</span> <span class="no">CarrierWave</span><span class="o">::</span><span class="no">Uploader</span><span class="o">::</span><span class="no">Base</span>
  <span class="kp">include</span> <span class="no">CarrierWave</span><span class="o">::</span><span class="no">MiniMagick</span>
  
  <span class="n">version</span> <span class="ss">:detail</span> <span class="k">do</span>
    <span class="n">process</span> <span class="ss">:resize_to_fit</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">600</span><span class="p">,</span> <span class="mi">10000</span><span class="p">]</span>
  <span class="k">end</span>
  <span class="n">version</span> <span class="ss">:main</span> <span class="k">do</span>
      <span class="n">process</span> <span class="ss">:resize_to_fill</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">240</span><span class="p">,</span> <span class="mi">180</span><span class="p">]</span> <span class="p">,</span><span class="ss">:if</span> <span class="o">=&gt;</span> <span class="ss">:horizontal?</span>
      <span class="n">process</span> <span class="ss">:resize_to_fill</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">240</span><span class="p">,</span> <span class="mi">320</span><span class="p">]</span>  <span class="p">,</span><span class="ss">:if</span> <span class="o">=&gt;</span> <span class="ss">:vertical?</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">horizontal?</span><span class="p">(</span><span class="n">new_file</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="no">MiniMagick</span><span class="o">::</span><span class="no">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="nf">file</span><span class="p">.</span><span class="nf">file</span><span class="p">)</span>
    <span class="kp">true</span> <span class="k">if</span> <span class="n">image</span><span class="p">[</span><span class="ss">:height</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">image</span><span class="p">[</span><span class="ss">:width</span><span class="p">]</span>
  <span class="k">end</span>
  
  <span class="k">def</span> <span class="nf">vertical?</span><span class="p">(</span><span class="n">new_file</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="no">MiniMagick</span><span class="o">::</span><span class="no">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="nf">file</span><span class="p">.</span><span class="nf">file</span><span class="p">)</span>
    <span class="kp">true</span> <span class="k">if</span> <span class="n">image</span><span class="p">[</span><span class="ss">:height</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">image</span><span class="p">[</span><span class="ss">:width</span><span class="p">]</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>&nbsp;ì°¸ê³ ë¡œ ì €ëŠ” <code>:main</code>ë²„ì „ì— ëŒ€í•´ì„œë§Œ ì´ ê¸°ëŠ¥ì´ í•„ìš”í–ˆê¸° ë•Œë¬¸ì—, <code>:main</code>ì—ë§Œ ì¶”ê°€ ì½”ë“œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì˜ë¯¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. "ì‚¬ì§„ì´ ê°€ë¡œê°€ ê¸´ ì‚¬ì§„ì´ë©´, <code>240x180</code>ì‚¬ì´ì¦ˆë¥¼ <code>:main</code>ìœ¼ë¡œ ì €ì¥í•˜ê³ , ì„¸ë¡œê°€ ê¸´ ì‚¬ì§„ì´ë©´ <code>240x320</code>ì„ <code>:main</code>ìœ¼ë¡œ ì €ì¥í•´ë¼!" ì¦‰, ì‚¬ì§„ì˜ ë¹„ìœ¨ì„ 4:3ë¡œ ë§Œë“¤ê³  ì‚¬ì§„ í•´ìƒë„ë¥¼ ì¤„ì´ëŠ” ì‘ì—…ì„ í•œ ê²ƒì´ì£ .&lt;/code&gt;</p>

<p>&nbsp;ì—¬ê¸°ê¹Œì§€í•´ì„œ Rails í”„ë¡œì íŠ¸ì— Carrierwaveë¥¼ ì‚¬ìš©í•´ì„œ AWS S3ì— ì´ë¯¸ì§€ë¥¼ ì˜¬ë¦¬ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ê¸€ì´ ì¡°ê¸ˆì´ë¼ë„ ë„ì›€ì´ ë˜ì…¨ê¸¸ ë°”ë¼ë©°, í”¼ë“œë°±, ìˆ˜ì • ì‚¬í•­ì€ ì–¸ì œë“ ì§€ í™˜ì˜í•©ë‹ˆë‹¤. ì†ŒìŠ¤ì½”ë“œëŠ” Githubì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><a href="https://github.com/hcn1519/carrierwave_aws_s3" target="_blank">Carreirwaveë¡œ AWS S3ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸°</a></p>

<h5>ë” ë³¼ë§Œí•œ ì¶”ê°€ ìë£Œ</h5>

<ul>
  <li><a href="https://github.com/carrierwaveuploader/carrierwave" target="_blank">Carrierwave github í˜ì´ì§€</a></li>
  <li><a href="https://rorlab.gitbooks.io/railsguidebook/content/contents/walkthrough/gallery_layout.html" target="_blank">ì´ˆë³´ìë¥¼ ìœ„í•œ ë ˆì¼ì¦ˆ ê°€ì´ë“œë¶, Carrierwave - í•œê¸€ íŒŒì¼ ì¸ì½”ë”© ìë£Œ í¬í•¨</a></li>
  <li><a href="http://lifesforlearning.com/uploading-images-with-carrierwave-to-s3-on-rails/" target="_blank">ì¸ë„ í˜•ë‹˜ì´ ì“°ì‹  Carrierwave ìë£Œ - ì´ë¯¸ì§€ ë²„ì „ ì„¤ëª… ê´€ë ¨</a></li>
</ul>


<div class="related">
  
  
  
  
  
  

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  
  </ul>

  
    
    <h2>ìµœê·¼ ê¸€</h2>
    
    <ul class="related-posts">
      
        <li>
          <h3>
            <a href="/articles/2024-03/python_import_mechanism">
              Python Import Mechanism
              <small>25 Mar 2024</small>
            </a>
          </h3>
        </li>
      
        <li>
          <h3>
            <a href="/articles/2022-05/diffabledatasource">
              DiffableDataSourceë¡œ ì•ˆì „í•˜ê²Œ UIKit List ì—…ë°ì´íŠ¸í•˜ê¸°
              <small>13 May 2022</small>
            </a>
          </h3>
        </li>
      
        <li>
          <h3>
            <a href="/articles/2022-04/swift_async_await">
              Swift Async Await
              <small>08 Apr 2022</small>
            </a>
          </h3>
        </li>
      
    </ul>
  
</div>


<script>
  
  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    // dark mode
    
  }
</script>
<script src="https://utteranc.es/client.js"
        repo="hcn1519/hcn1519.github.io"
        issue-term="og:title"
        label="gets Comments ğŸ™Œ"
        theme=github-dark
        crossorigin="anonymous"
        async>
</script>
<div class="back-home">
    <a href="">< Home</a>
  </div>
</div>
        </div>
        
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="/public/js/sidebarHamburger.js"></script>
  </body>
</html>
