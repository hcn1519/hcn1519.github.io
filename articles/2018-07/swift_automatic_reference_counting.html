<!DOCTYPE html>
<html lang="ko">

  <head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5VLL8HQ');</script>
  <!-- End Google Tag Manager -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5VL9R6T5ZN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5VL9R6T5ZN');
  </script>

  <!-- encoding -->
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!-- Primary Meta Tags -->
  <title>Swift ARC - hcn1519 Dev Post</title>
  <meta name="author" content="Changnam Hong">
  <meta name="title" content="Swift ARC - hcn1519 Dev Post">
  <meta name="description" content="Swiftì˜ Automatic Reference Countingì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#1d1d1d" media="(prefers-color-scheme: dark)">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Swift ARC">
  <meta property="og:image" content="/public/assets/swiftLogo.jpg">
  <meta property="og:description" content="Swiftì˜ Automatic Reference Countingì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.">

  <!-- CSS -->
  <link rel="stylesheet" href="/public/sass/blogTheme.scss.css" async>
  <link rel="stylesheet" href="/public/sass/menu.scss.css" async>
  <link rel="stylesheet" href="/public/sass/syntax.scss.css" async>
  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="57x57" href="/public/favicon/apple-icon-57x57.png" async>
  <link rel="apple-touch-icon" sizes="60x60" href="/public/favicon/apple-icon-60x60.png" async>
  <link rel="apple-touch-icon" sizes="72x72" href="/public/favicon/apple-icon-72x72.png" async>
  <link rel="apple-touch-icon" sizes="76x76" href="/public/favicon/apple-icon-76x76.png" async>
  <link rel="apple-touch-icon" sizes="114x114" href="/public/favicon/apple-icon-114x114.png" async>
  <link rel="apple-touch-icon" sizes="120x120" href="/public/favicon/apple-icon-120x120.png" async>
  <link rel="apple-touch-icon" sizes="144x144" href="/public/favicon/apple-icon-144x144.png" async>
  <link rel="apple-touch-icon" sizes="152x152" href="/public/favicon/apple-icon-152x152.png" async>
  <link rel="apple-touch-icon" sizes="180x180" href="/public/favicon/apple-icon-180x180.png" async>
  <link rel="icon" type="image/png" sizes="192x192"  href="/public/favicon/android-icon-192x192.png" async>
  <link rel="icon" type="image/png" sizes="32x32" href="/public/favicon/favicon-32x32.png" async>
  <link rel="icon" type="image/png" sizes="96x96" href="/public/favicon/favicon-96x96.png" async>
  <link rel="icon" type="image/png" sizes="16x16" href="/public/favicon/favicon-16x16.png" async>
  <link rel="manifest" href="/public/favicon/manifest.json" async>
  
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="hcn1519 Dev Post" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml" async>

</head>


  <body>
      <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5VLL8HQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="wrap">
      <nav class="menu">
  <div class="menu-container">
    <ul class="menu-list">
      <li class="menu-item">
        <a class="menu-link" href="/">Home</a>
      </li>
      

      
      
        
          
        
      
        
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/about">About</a>
            </li>
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/archives/">Archives</a>
            </li>
          
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/tags/">Tags</a>
            </li>
          
        
      
    </ul>
  </div>


  <a class="menu-toggle">
    <div class="menu-hamburger"></div>
  </a>
</nav>

      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="" title="Home">CNH</a>
            <small>Dev Post</small>

            <span style="display: block;font-size: medium;text-align: end;margin-top: -1.35rem;padding-right: 2rem;">
              <small>
              
              <a href="/en">Read in English</a>
              
              </small>
            </span>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h2 class="post-title">Swift ARC</h2>
  <span class="post-date">25 Jul 2018</span>
  
  <div class="post-image-feature">
    <img class="feature-image" src=
    
    "/public/assets/swiftLogo.jpg"
    
    alt="Swift ARC feature image">

    
  </div><!-- /.image-wrap -->
  

  

  

  
  

        
  
  
  <p>Swiftì—ì„œëŠ” ë©”ëª¨ë¦¬ë¥¼ ê´€ë¦¬í•  ë•Œ ARC(Automatic Reference Counting)ë¼ëŠ” ë©”ëª¨ë¦¬ ê´€ë¦¬ ì „ëµì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” ì´ ì „ëµì´ ì–´ë–¤ ê²ƒì´ê³  ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>

<h2 id="arc-is-for-reference-type">ARC is for reference type</h2>

<p>ARCëŠ” ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ referenceì˜ ìˆ«ìë¥¼ ìë™ìœ¼ë¡œ ì„¸ëŠ” ë©”ëª¨ë¦¬ ê´€ë¦¬ ì „ëµì…ë‹ˆë‹¤. ì´ ë§ì€ ê°ì²´ì˜ ë©”ëª¨ë¦¬ í• ë‹¹ì‹œ ì¸ìŠ¤í„´ìŠ¤ì— referenceë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´ë§Œ ARCì˜ ì˜í–¥ì„ ë°›ëŠ”ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ì¦‰, Swiftì˜ value typeì€ ARCì˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤. ARCì˜ ì£¼ìš” ê´€ë¦¬ ëŒ€ìƒì€ í´ë˜ìŠ¤, í´ë¡œì € ê°™ì€ reference typeì˜ ë°ì´í„°ì…ë‹ˆë‹¤.</p>

<h2 id="how-arc-works">How ARC Works</h2>

<p>ARCëŠ” í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì˜€ì„ ë•Œ, ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ê°€ ë”ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì„ ë•Œ, ARCëŠ” í•´ë‹¹ ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•©ë‹ˆë‹¤. ì´ ë•Œ ARCëŠ” ì˜ëª»ëœ ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ë§‰ê¸° ìœ„í•´(í•´ì œëœ ë©”ëª¨ë¦¬ì— ì ‘ê·¼í•˜ëŠ” ê²½ìš°, ì‚¬ìš©ì¤‘ì¸ ë©”ëª¨ë¦¬ë¥¼ ë®ì–´ì”Œì›Œë²„ë¦¬ëŠ” ê²½ìš°) ì–¼ë§ˆë‚˜ ë§ì€ properties, ìƒìˆ˜, ë³€ìˆ˜ë“¤ì´ ê°ê°ì˜ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ê³  ìˆëŠ”ì§€ ìˆ«ì(reference count)ë¥¼ ì…‰ë‹ˆë‹¤. Swiftì—ì„œëŠ” ê° ê°ì²´ë§ˆë‹¤ retain countë¥¼ ê°€ì§€ê³  ìˆê³ , ì´ count ìˆ˜ë¥¼ í†µí•´ ë©”ëª¨ë¦¬ê°€ í•´ì œë˜ì–´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ reference countê°€ 0ì´ ë˜ëŠ” ìˆœê°„ê¹Œì§€ ARCëŠ” ê°ì²´ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>

<h2 id="strong-reference-cycle">Strong Reference Cycle</h2>

<p>ARCëŠ” ê°œë°œìê°€ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ì§ì ‘ í•˜ì§€ ì•Šë„ë¡ ë„ì™€ì£¼ëŠ” ì¢‹ì€ ë©”ì»¤ë‹ˆì¦˜ì´ì§€ë§Œ, ëª‡ ê°€ì§€ ê²½ìš°ì—ì„œ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. ê·¸ ì¤‘ ê°€ì¥ ëŒ€í‘œì ì¸ ì¼€ì´ìŠ¤ê°€ Strong Reference Cycle(ê°•í•œ ìƒí˜¸ ì°¸ì¡°)ì…ë‹ˆë‹¤. ê°•í•œ ìƒí˜¸ ì°¸ì¡°ëŠ” 2ê°œì˜ reference type ë°ì´í„°ê°€ ì„œë¡œë¥¼ strong ì¸ìŠ¤í„´ìŠ¤ë¡œ ì°¸ì¡°í•˜ê³  ìˆì–´ì„œ reference countê°€ 0ì´ ë˜ì§€ ì•ŠëŠ” ìƒí™©ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê°„ë‹¨í•œ ê°•í•œ ìƒí˜¸ ì°¸ì¡° ìƒí™©ì„ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">Person</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">house</span><span class="p">:</span> <span class="kt">House</span><span class="p">?</span>
    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Remove Person"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">House</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span>
    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Remove House"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 1</span>
<span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Person</span><span class="p">()</span> <span class="c1">// ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„ ë‹¤ìŒ ê°’ ì¶œë ¥ì‹œ CFGetRetainCount(person) -&gt; 2 ì¶œë ¥(ê¸°ë³¸ count)</span>
<span class="k">var</span> <span class="nv">house</span><span class="p">:</span> <span class="kt">House</span><span class="p">?</span> <span class="o">=</span> <span class="kt">House</span><span class="p">()</span>

<span class="c1">// 2</span>
<span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="n">house</span> <span class="o">=</span> <span class="n">house</span>
<span class="n">house</span><span class="p">?</span><span class="o">.</span><span class="n">person</span> <span class="o">=</span> <span class="n">person</span>

<span class="c1">// 3</span>
<span class="n">person</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="n">house</span> <span class="o">=</span> <span class="kc">nil</span></code></pre></figure>

<p>ìœ„ì˜ ì½”ë“œëŠ” ê°•í•œ ìƒí˜¸ ì°¸ì¡°ë¥¼ ë³´ì—¬ì£¼ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">person</code>, <code class="language-plaintext highlighter-rouge">house</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ëª¨ë‘ <code class="language-plaintext highlighter-rouge">nil</code> ì²˜ë¦¬ë¥¼ í•´ì£¼ì—ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , deinitì— ìˆëŠ” printë¬¸ì€ í˜¸ì¶œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì¦‰, <code class="language-plaintext highlighter-rouge">person.house</code>ì™€ <code class="language-plaintext highlighter-rouge">house.person</code> ëª¨ë‘ í•´ì œê°€ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì™œ ê·¸ëŸ° ê²ƒì¼ê¹Œìš”? reference count ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•´ ìƒê°í•´ë³´ë©´ ë‹µì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">person</code>ê³¼ <code class="language-plaintext highlighter-rouge">house</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°ê° ìƒì„±í•˜ì˜€ê³ , ê°ê°ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” strong reference countê°€ 1ì´ ë©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">person.house</code>ì™€ <code class="language-plaintext highlighter-rouge">house.person</code>ì— ê°ê° <code class="language-plaintext highlighter-rouge">house</code>ì™€ <code class="language-plaintext highlighter-rouge">person</code>ì„ í• ë‹¹í•˜ì˜€ê¸° ë•Œë¬¸ì— ë‘ ì¸ìŠ¤í„´ìŠ¤ì˜ strong reference countëŠ” 2ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">person</code>ê³¼ <code class="language-plaintext highlighter-rouge">house</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ nilì²˜ë¦¬ í–ˆê¸° ë•Œë¬¸ì— ë‘ ì¸ìŠ¤í„´ìŠ¤ì˜ strong reference countëŠ” 1ì´ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  strong reference countê°€ 0ì´ ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ í•´ì œëŠ” ì¼ì–´ë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
</ol>

<p>ìœ„ì˜ ê³¼ì •ì—ì„œ ë°œìƒí•œ ê°€ì¥ í° ë¬¸ì œëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ëª¨ë¦¬ê°€ í•´ì œë˜ì§€ ì•Šì•˜ëŠ”ë° ì´ì— ì ‘ê·¼í•  ë°©ë²•ì´ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì¦‰, <code class="language-plaintext highlighter-rouge">person.house</code>ëŠ” ë©”ëª¨ë¦¬ì— ë‚¨ì•„ ìˆëŠ”ë°, <code class="language-plaintext highlighter-rouge">person</code> ìì²´ê°€ ì—†ì–´ì ¸ë²„ë ¸ê¸° ë•Œë¬¸ì— ì´ì— ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ìƒí™©ì„ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜(memory leak)ê°€ ë°œìƒí–ˆë‹¤ê³  ë§í•˜ê³ , ì´ëŠ” ë°˜ë“œì‹œ ê³ ì³ì•¼ í•©ë‹ˆë‹¤.</p>

<blockquote>
  <p>ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ëŠ” ì‘ì€ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì‹œì‘í•˜ì—¬ ë©”ëª¨ë¦¬ì— í° ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•Šì„ ê²ƒì´ë¼ê³  ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ëŠ” ì•±ì„ ì‚¬ìš©í•  ìˆ˜ë¡ ì ìœ í•˜ëŠ” ë©”ëª¨ë¦¬ê°€ ì»¤ì§€ëŠ” ì„±í–¥ì´ ìˆê¸° ë•Œë¬¸ì— ì‘ì€ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¡œ ì¸í•´ ì•±ì´ ì£½ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>

<p>ì´ì™€ ê°™ì€ ìƒí™©ì´ ìì£¼ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ìƒê°í•  ìˆ˜ë„ ìˆì§€ë§Œ, ìƒê°ë³´ë‹¤ ë§ì€ ê²½ìš°ì—ì„œ ë°œìƒí•  ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ëª‡ ê°€ì§€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ˆì‹œë¡œëŠ” Parent View Controller - Child View Controllerì˜ ê´€ê³„ ì„¤ì •ì‹œ ì„œë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì†Œìœ í•˜ê³  ìˆì„ ê²½ìš°, View Conrollerì˜ SubViewì—ì„œ ViewControllerë¥¼ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì†Œìœ í•´ì„œ ë¬´ì–¸ê°€ë¥¼ ì²˜ë¦¬í•˜ë ¤ í•  ê²½ìš°, delegate ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•  ê²½ìš° ë“±ì´ ìˆìŠµë‹ˆë‹¤.</p>

<p>ê·¸ëŸ°ë° ìƒê°í•´ë³´ë©´ ìì‹ ì„ ê°€ì§€ê³  ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ í•´ì œë˜ì—ˆëŠ”ë° ê·¸ propertyëŠ” ë‹¹ì—°íˆ í•´ì œë˜ì–´ì•¼ í•˜ëŠ” ê²ƒ ì•„ë‹Œê°€ í•˜ëŠ” ì˜ë¬¸ì´ ë“¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê°œë…ì„ ë‹´ì€ ê²ƒì´ ë°”ë¡œ <code class="language-plaintext highlighter-rouge">weak</code>ê³¼ <code class="language-plaintext highlighter-rouge">unowned</code>ì´ê³ , ì´ë¥¼ í†µí•´ Strong Reference Cycleì„ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h2 id="strong-reference-cycle-ì—†ì• ê¸°">Strong Reference Cycle ì—†ì• ê¸°</h2>

<p>ê°•í•œ ìƒí˜¸ ì°¸ì¡°ë¥¼ ì—†ì• ëŠ” í•µì‹¬ ì›ë¦¬ëŠ” <strong>strong</strong> reference countë¥¼ ì„¸ì§€ ì•ŠëŠ” ê²ƒì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê²ƒì€ reference countë¥¼ ì•„ì˜ˆ ì„¸ì§€ ì•ŠëŠ” ê²ƒì´ ì•„ë‹ˆë¼, <strong>strong</strong> reference countë¥¼ ì„¸ì§€ ì•ŠëŠ” ê²ƒì…ë‹ˆë‹¤. ì¦‰, <code class="language-plaintext highlighter-rouge">weak</code>, í˜¹ì€ <code class="language-plaintext highlighter-rouge">unowned</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ propertyë¥¼ ì„ ì–¸í•˜ê²Œ ë˜ë©´ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ì„œëŠ” <strong>strong</strong> reference countë¥¼ ì¹´ìš´íŒ…í•˜ì§€ ì•Šê³ , weak reference countë¥¼ ì¹´ìš´íŒ…í•©ë‹ˆë‹¤. ì´ë¥¼ Swift ê³µì‹ ë¬¸ì„œì—ì„œëŠ” weak reference, unowned refereceê°€ propertyì— ëŒ€í•´ strong holdë¥¼ í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í‘œí˜„í•©ë‹ˆë‹¤.</p>

<blockquote>
  <p>Weak and unowned references enable one instance in a reference cycle to refer to the other instance without keeping a strong hold on it.</p>
</blockquote>

<p><a href="https://itunes.apple.com/kr/book/the-swift-programming-language-swift-4-1/id881256329?mt=11">The Swift Programming Language (Swift 4.1)</a></p>

<p><img src="https://hcn1519.github.io/public/postImages/2018-07/swift_automatic_reference_counting/swift_object.png" /></p>

<p>ì•ì„œì„œ Swiftì˜ ê°ì²´ëŠ” retain countë¥¼ ê°€ì§€ê³  ìˆê³ , ARCëŠ” ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ í•œë‹¤ê³  ì„œìˆ í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë¥¼ ì¢€ ë” ìì„¸í•˜ê²Œ í‘œí˜„í•˜ë©´ ARCëŠ” ë©”ëª¨ë¦¬ì˜ ìœ ì§€, í•´ì œë¥¼ retain count ì¤‘ strong reference countë¥¼ í†µí•´ ê´€ë¦¬í•©ë‹ˆë‹¤. ì¦‰, countê°€ 0ì´ ë˜ì–´ ì—†ì–´ì§€ëŠ” ê°ì²´ëŠ” strong referece countê°€ 0ì´ ëœ ê°ì²´ì…ë‹ˆë‹¤. ë˜í•œ, ARCëŠ” strong referece countê°€ 0ì´ ëœ ê°ì²´ì˜ property ì¤‘ weak í˜¹ì€ unownedë¡œ ì„¤ì •ëœ ê°ì²´ë¥¼ í•¨ê»˜ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•©ë‹ˆë‹¤.</p>

<p>ìœ„ì—ì„œ ì‚¬ìš©í•œ ì˜ˆì œë¥¼ weakì„ í†µí•´ ìˆ˜ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">Person</span> <span class="p">{</span>
    <span class="k">weak</span> <span class="k">var</span> <span class="nv">house</span><span class="p">:</span> <span class="kt">House</span><span class="p">?</span>
    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Remove Person"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">House</span> <span class="p">{</span>
    <span class="k">weak</span> <span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span>
    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Remove House"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 1</span>
<span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Person</span><span class="p">()</span>
<span class="k">var</span> <span class="nv">house</span><span class="p">:</span> <span class="kt">House</span><span class="p">?</span> <span class="o">=</span> <span class="kt">House</span><span class="p">()</span>

<span class="c1">// 2</span>
<span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="n">house</span> <span class="o">=</span> <span class="n">house</span>
<span class="n">house</span><span class="p">?</span><span class="o">.</span><span class="n">person</span> <span class="o">=</span> <span class="n">person</span>

<span class="c1">// 3</span>
<span class="n">person</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="n">house</span> <span class="o">=</span> <span class="kc">nil</span>

<span class="c1">// Remove Person</span>
<span class="c1">// Remove House</span></code></pre></figure>

<ol>
  <li>ì•ì„  ì˜ˆì œì™€ ë™ì¼í•˜ê²Œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ strong reference countê°€ 1ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">person.house</code>, <code class="language-plaintext highlighter-rouge">house.person</code> ëª¨ë‘ weak referenceì´ê¸° ë•Œë¬¸ì— ì°¸ì¡° ê°’ì€ í• ë‹¹ strong reference countê°€ ì˜¬ë¼ê°€ì§€ ì•Šê³ , weak reference countê°€ ì¦ê°€í•©ë‹ˆë‹¤.</li>
  <li>ARCëŠ” strong reference countë¥¼ í†µí•´ ë©”ëª¨ë¦¬ í•´ì œë¥¼ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">person = nil</code>ì„ ìˆ˜í–‰í•˜ë©´(ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•˜ë©´), weak referenceë„ ëª¨ë‘ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•©ë‹ˆë‹¤.</li>
</ol>

<p>ì´ë²ˆì—ëŠ” ì•ì„  ì˜ˆì œì™€ ë‹¤ë¥´ê²Œ deinitì´ í˜¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ëª¨ë“  ë³€ìˆ˜ê°€ ë¬¸ì œ ì—†ì´ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œëœ ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” property ì•ì— ëª…ì‹œëœ weakì„ í‚¤ì›Œë“œë¡œ ì¸í•´ strong reference countê°€ ì˜¬ë¼ê°€ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì¦‰ <code class="language-plaintext highlighter-rouge">person = nil</code>ì„ í†µí•´ì„œ  strong reference countê°€ 0ì´ ë˜ì–´ <code class="language-plaintext highlighter-rouge">person</code>ì˜ ë©”ëª¨ë¦¬ê°€ í•´ì œë˜ë©´ì„œ ê·¸ ì•ˆì˜ weakìœ¼ë¡œ ì„¤ì •ëœ ê°ì²´ì¸ <code class="language-plaintext highlighter-rouge">house</code>ë¥¼ í•¨ê»˜ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•œ ê²ƒì…ë‹ˆë‹¤.</p>

<p>ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ strong reference cycleì€ weakì„ ì‚¬ìš©í•˜ë©´ strong reference cycleì„ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<blockquote>
  <p>Weak referenceëŠ” ARCë¥¼ í†µí•´ ëŸ°íƒ€ì„ì—ì„œ nilì´ ë  ìˆ˜ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— í•­ìƒ ì˜µì…”ë„ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ë©ë‹ˆë‹¤.</p>
</blockquote>

<h3 id="weakì„-ì‚¬ìš©í•œ-ì˜ˆì œ">weakì„ ì‚¬ìš©í•œ ì˜ˆì œ</h3>

<p>ì´ëŸ¬í•œ <code class="language-plaintext highlighter-rouge">weak</code>ì´ ì‚¬ìš©ëœ ëŒ€í‘œì ì¸ ê²½ìš°ëŠ” ë°”ë¡œ IBOutletì…ë‹ˆë‹¤. ViewControllerì—ì„œ storyboardë¥¼ í†µí•´ SubViewë¥¼ ìƒì„±í•˜ì—¬ IBOutletì„ ìƒì„±í•  ê²½ìš° ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ propertyê°€ ì„¤ì •ë©ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">myView</span><span class="p">:</span> <span class="kt">UIView</span><span class="o">!</span>
<span class="p">}</span>    </code></pre></figure>

<p>ì—¬ê¸°ì„œë„ weakì´ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” <code class="language-plaintext highlighter-rouge">UIViewController</code>ì™€ <code class="language-plaintext highlighter-rouge">UIView</code> ëª¨ë‘ classë¡œ ì‘ì„±ëœ reference typeì˜ ë°ì´í„°ì´ê¸° ë•Œë¬¸ì— strong reference cycleì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>

<h2 id="closure-strong-reference-cycle">Closure Strong Reference Cycle</h2>

<p>Strong Reference Cycleì€ ë‘ reference typeê°„ì˜ ê°•í•œ ìƒí˜¸ì°¸ì¡°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ í´ë¡œì € ë˜í•œ reference typeì´ê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ - í´ë¡œì € ê°„ì˜ Strong Reference Cycle ë˜í•œ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì˜ ì˜ˆì œë¥¼ ë³´ë©´ì„œ ì´ ìƒí™©ì´ ì–´ë–»ê²Œ ë°œìƒí•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="kd">class</span> <span class="kt">Person</span><span class="p">:</span> <span class="kt">CustomStringConvertible</span> <span class="p">{</span>

    <span class="k">var</span> <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Person Description"</span>
    <span class="p">}</span>

    <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">printDescription</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Remove Person"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Person</span><span class="p">()</span>
<span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="nf">printDescription</span><span class="p">()</span>
<span class="n">person</span> <span class="o">=</span> <span class="kc">nil</span>

<span class="c1">// Person - name: Hong</span></code></pre></figure>

<p>ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">person</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ nil ì²˜ë¦¬í•˜ì˜€ì§€ë§Œ deinit ë¸”ëŸ­ì— ìˆëŠ” Remove Personì´ ì½˜ì†”ì—ì„œ ì¶œë ¥ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ëŠ” í´ë¡œì €ì—ì„œ <code class="language-plaintext highlighter-rouge">self</code>ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ <code class="language-plaintext highlighter-rouge">person</code>ìœ¼ë¡œ ìƒˆë¡œìš´ strong referenceë¥¼ ë§Œë“¤ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í´ë¡œì €ëŠ” í• ë‹¹ëœ ë¸”ëŸ­ì„ ì‹¤í–‰í•  ë•Œ ìì‹ ì˜ ì£¼ë³€ ê°’ì„ capture í•©ë‹ˆë‹¤. í´ë¡œì €ëŠ” ì´ë¥¼ í†µí•´ì„œ ë¸”ëŸ­ ì•ˆì—ì„œ ê°’ì„ ìˆ˜ì •í•˜ê±°ë‚˜, ìƒˆë¡œìš´ ì°¸ì¡°ë¥¼ ìƒì„±í•˜ëŠ” ë“±ì˜ í–‰ë™ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<blockquote>
  <p>A closure can capture constants and variables from the surrounding context in which it is defined. The closure can then refer to and modify the values of those constants and variables from within its body, even if the original scope that defined the constants and variables no longer exists.</p>
</blockquote>

<p><a href="https://itunes.apple.com/kr/book/the-swift-programming-language-swift-4-1/id881256329?mt=11">The Swift Programming Language (Swift 4.1)</a></p>

<p>ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê²ƒì€ í´ë¡œì €ëŠ” ìì‹ ì„ í¬í•¨í•˜ê³  ìˆëŠ” <code class="language-plaintext highlighter-rouge">self</code>ì— ëŒ€í•´ì„œëŠ” referenceë¥¼ ìƒì„±í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ ì•ˆì—ì„œ í´ë¡œì €ë¥¼ ì‚¬ìš©í•  ê²½ìš°, ê·¸ë¦¬ê³  í´ë¡œì € ë¸”ëŸ­ ì•ˆì—ì„œ <code class="language-plaintext highlighter-rouge">self</code>ë¥¼ í†µí•´ ê°’ì— ì ‘ê·¼í•˜ë©´ í´ë˜ìŠ¤ - í´ë¡œì € ê°„ì˜ Strong Reference Cycleì´ ë°œìƒí•©ë‹ˆë‹¤.</p>

<h2 id="closure-strong-reference-cycle-ì—†ì• ê¸°">Closure Strong Reference Cycle ì—†ì• ê¸°</h2>

<p>í´ë¡œì €ì˜ ê°•í•œ ìƒí˜¸ ì°¸ì¡° ë˜í•œ weakì„ í†µí•´ì„œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ ì›ë¦¬ëŠ” ìœ„ì—ì„œ í´ë˜ìŠ¤ ê°„ ê°•í•œ ìƒí˜¸ ì°¸ì¡°ë¥¼ ì—†ì• ëŠ” ë°©ì‹ê³¼ ë™ì¼í•©ë‹ˆë‹¤. ë‹¤ë§Œ, í´ë¡œì €ëŠ” ì£¼ë³€ ê°’ì„ captureí•  ë•Œ weakìœ¼ë¡œ ì´ captureë¥¼ ì§„í–‰í•˜ë©´ ë©ë‹ˆë‹¤. ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">lazy</span> <span class="k">var</span> <span class="nv">printDescription</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="k">in</span>
  <span class="nf">print</span><span class="p">(</span><span class="k">self</span><span class="o">!.</span><span class="n">description</span><span class="p">)</span>
<span class="p">}</span></code></pre></figure>

<p>í´ë¡œì €ì˜ captureëŠ” <code class="language-plaintext highlighter-rouge">[weak self]</code>ë¥¼ í†µí•´ì„œ ì°¸ì¡° ë°©ì‹ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë•Œ <code class="language-plaintext highlighter-rouge">self</code>ëŠ” weak í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œ ëª¨ë“  ê°’ì´ ì˜µì…”ë„ì´ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì˜µì…”ë„ íƒ€ì…ìœ¼ë¡œ ë³€ê²½ë©ë‹ˆë‹¤. optional unwrappingì„ ì¢€ ë” ê¹”ë”í•˜ê²Œ í•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">lazy</span> <span class="k">var</span> <span class="nv">printDescription</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="k">in</span>
  <span class="k">guard</span> <span class="kd">let</span> <span class="p">`</span><span class="nv">self</span><span class="p">`</span> <span class="o">=</span> <span class="k">self</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
  <span class="nf">print</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
<span class="p">}</span></code></pre></figure>

<p>ì „ì²´ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ë˜ê³ , ì´ ë•Œ deinit ë¸”ëŸ­ì´ ì •ìƒì ìœ¼ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="kd">class</span> <span class="kt">Person</span><span class="p">:</span> <span class="kt">CustomStringConvertible</span> <span class="p">{</span>

    <span class="k">var</span> <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Person Description"</span>
    <span class="p">}</span>

    <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">printDescription</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="k">in</span>
        <span class="k">guard</span> <span class="kd">let</span> <span class="p">`</span><span class="nv">self</span><span class="p">`</span> <span class="o">=</span> <span class="k">self</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
        <span class="nf">print</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Remove Person"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Person</span><span class="p">()</span>
<span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="nf">printDescription</span><span class="p">()</span>
<span class="n">person</span> <span class="o">=</span> <span class="kc">nil</span>

<span class="c1">// Person Description</span>
<span class="c1">// Remove Person</span></code></pre></figure>

<h2 id="weakê³¼-unownedì˜-ì°¨ì´">weakê³¼ unownedì˜ ì°¨ì´</h2>

<p>ê°•í•œ ìƒí˜¸ ì°¸ì¡°ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">weak</code>ê³¼ <code class="language-plaintext highlighter-rouge">unowned</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  í•˜ì˜€ëŠ”ë°, ìœ„ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">unowned</code>ë¥¼ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì‚¬ì‹¤ ìœ„ì˜ ì˜ˆì œì—ì„œ <code class="language-plaintext highlighter-rouge">weak</code>ì„ <code class="language-plaintext highlighter-rouge">unowned</code>ë¡œ ë³€ê²½í•´ë„ ê°•í•œ ìƒí˜¸ ì°¸ì¡°ë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‘ í‚¤ì›Œë“œëŠ” ëª¨ë‘ ì•½í•œ ìƒí˜¸ ì°¸ì¡°ë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ê³ , ê·¸ ì°¨ì´ì ì€ lifetimeì— ìˆìŠµë‹ˆë‹¤.</p>

<blockquote>
  <p>Like a weak reference, an unowned reference does not keep a strong hold on the instance it refers to. Unlike a weak reference, however, an unowned reference is used when the other instance has the same lifetime or a longer lifetime.</p>
</blockquote>

<p><a href="https://itunes.apple.com/kr/book/the-swift-programming-language-swift-4-1/id881256329?mt=11">The Swift Programming Language (Swift 4.1)</a></p>

<p><code class="language-plaintext highlighter-rouge">weak</code>ê³¼ <code class="language-plaintext highlighter-rouge">unowned</code>ì˜ ì°¨ì´ëŠ” ì˜ˆì‹œë¥¼ í†µí•´ì„œ ì´í•´í•˜ëŠ” ê²ƒì´ ì´í•´ê°€ ë¹ ë¦…ë‹ˆë‹¤.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">weak</code> - Personê³¼ Apartmentì˜ ê´€ê³„</li>
</ul>

<p>ë‹¤ìŒì˜ ë‘ ê°ì²´ Personê³¼ Apartmentê°€ ìˆë‹¤ê³  ê°€ì •í•˜ê² ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">Person</span> <span class="p">{</span>

<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Apartment</span> <span class="p">{</span>

<span class="p">}</span></code></pre></figure>

<p>ë¨¼ì € ì‚¬ëŒì€ ì•„íŒŒíŠ¸ì— ì…ì£¼í•  ìˆ˜ë„ ìˆê³  ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ Person ê°ì²´ëŠ” Apartment ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜µì…”ë„ë¡œ ê°€ì§€ê³  ìˆê²Œ ë©ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">Person</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">apartment</span><span class="p">:</span> <span class="kt">Apartment</span><span class="p">?</span>
<span class="p">}</span></code></pre></figure>

<p>ì•„íŒŒíŠ¸ì˜ ê²½ìš°ì—ë„ ì…ì£¼ìê°€ ì¡´ì¬í•  ìˆ˜ë„ ìˆê³ , ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">Apartment</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span>
<span class="p">}</span></code></pre></figure>

<p>í•˜ì§€ë§Œ ì´ëŸ° ê²½ìš°ì— ë‘ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ëª¨ë‘ strongìœ¼ë¡œ ìƒì„±í•  ê²½ìš° ê°•í•œ ìƒí˜¸ ì°¸ì¡° ë¬¸ì œê°€ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— í•œ ìª½ì˜ ì°¸ì¡°ë¥¼ <code class="language-plaintext highlighter-rouge">weak</code> í˜¹ì€ <code class="language-plaintext highlighter-rouge">unowned</code>ìœ¼ë¡œ ì„ ì–¸í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ ë•Œ, Apartmentì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì•½í•œ ì°¸ì¡°ë¡œ ë³€ê²½í•œë‹¤ê³  í•˜ì˜€ì„ ë•Œ, ìƒê°í•´ë³´ì•„ì•¼ í•˜ëŠ” ë¶€ë¶„ì€ lifetimeì…ë‹ˆë‹¤. ì¦‰, ì•„íŒŒíŠ¸ëŠ” ì…ì£¼ìê°€ ìˆì–´ì•¼ë§Œ ì¡´ì¬í•  ìˆ˜ ìˆëŠ”ê°€?ì— ëŒ€í•œ ì§ˆë¬¸ì„ ìˆ˜í–‰í•˜ì—¬ ì•„íŒŒíŠ¸ì™€ ì…ì£¼ì ì‚¬ì´ì˜ lifetimeì„ íŒŒì•…í•´ì•¼ í•©ë‹ˆë‹¤. ì•„íŒŒíŠ¸ì˜ ê²½ìš° ì…ì£¼ìê°€ ì—†ì–´ë„ ì¡´ì¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì•„íŒŒíŠ¸ ë‚´ì˜ ì‚¬ëŒ ì¸ìŠ¤í„´ìŠ¤ì˜ lifetimeì€ ì•„íŒŒíŠ¸ë³´ë‹¤ ì§§ìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš° weakì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">Apartment</span> <span class="p">{</span>
    <span class="k">weak</span> <span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span>
<span class="p">}</span></code></pre></figure>

<blockquote>
  <p>ê°ì²´ì—ì„œ propertyë¡œ ê°€ì§€ê³  ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒëª…ì£¼ê¸°ê°€ ê°ì²´ë³´ë‹¤ ì§§ë‹¤ë©´ í•´ë‹¹ propertyë¥¼ weakìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">unowned</code> - Personê³¼ Credit Cardì˜ ê´€ê³„</li>
</ul>

<p>ì•ì˜ ì˜ˆì‹œì™€ ë¹„ìŠ·í•˜ê²Œ ë‹¤ìŒì˜ ë‘ ê°ì²´ Personê³¼ Credit Cardê°€ ìˆë‹¤ê³  ê°€ì •í•˜ê² ìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">Person</span> <span class="p">{</span>

<span class="p">}</span>
<span class="kd">class</span> <span class="kt">CreditCard</span> <span class="p">{</span>

<span class="p">}</span></code></pre></figure>

<p>ì´ ë•Œë„ ì‚¬ëŒì€ ì‹ ìš©ì¹´ë“œë¥¼ ê°€ì§€ê³  ìˆì„ ìˆ˜ë„ ìˆê³ , ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— Personì€ CreditCard ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜µì…”ë„ë¡œ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">Person</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">creditCard</span><span class="p">:</span> <span class="kt">CreditCard</span><span class="p">?</span>
<span class="p">}</span></code></pre></figure>

<p>CreditCardì˜ ê²½ìš°, ì•„íŒŒíŠ¸ì™€ëŠ” ë‹¤ë¥´ê²Œ ëª…ì˜ìë¼ëŠ” ê²ƒì´ ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— CreditCardëŠ” Person ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ, Personê³¼ lifetimeì´ ê°™ê±°ë‚˜ ë” ê¹ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì´ ë•Œ, ê°•í•œ ìƒí˜¸ì°¸ì¡°ë¥¼ í”¼í•˜ë©´ì„œ lifetimeì„ ì ì ˆíˆ í‘œí˜„í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">weak</code> ëŒ€ì‹ , <code class="language-plaintext highlighter-rouge">unowned</code> í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">CreditCard</span> <span class="p">{</span>
  <span class="k">unowned</span> <span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span>
<span class="p">}</span></code></pre></figure>

<blockquote>
  <p>ê°ì²´ì—ì„œ propertyë¡œ ê°€ì§€ê³  ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒëª…ì£¼ê¸°ê°€ ê°ì²´ë³´ë‹¤ ê¸¸ê±°ë‚˜ ê°™ë‹¤ë©´ í•´ë‹¹ propertyë¥¼ unownedë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h2 id="ì°¸ê³ ìë£Œ">ì°¸ê³ ìë£Œ</h2>
<ul>
  <li><a href="https://itunes.apple.com/kr/book/the-swift-programming-language-swift-4-1/id881256329?mt=11">The Swift Programming Language (Swift 4.1)</a></li>
</ul>


<div class="related">
  
  
  
  
  
  

  

    
    

    

    

  

    
    

    

    
      
        
        <h2>ì½ì–´ ë³¼ë§Œí•œ ë‹¤ë¥¸ ê¸€</h2>
        
      <ul class="related-posts">
      
        <li>
          <h3>
            <a href="/articles/2022-04/swift_async_await">
              Swift Async Await
              <small>08 Apr 2022</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-03/atomic">
              atomic/non atomic
              <small>01 Mar 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-02/swift-init-class-deep">
              Swift init 2ë¶€
              <small>06 Feb 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-02/swift-init-basic">
              Swift init 1ë¶€
              <small>05 Feb 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
        
  </ul>

  
</div>


<script>
  
  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    // dark mode
    
  }
</script>
<script src="https://utteranc.es/client.js"
        repo="hcn1519/hcn1519.github.io"
        issue-term="og:title"
        label="gets Comments ğŸ™Œ"
        theme=github-dark
        crossorigin="anonymous"
        async>
</script>

<div class="back-home">
    <a href="">< Home</a>
  </div>
</div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="/public/js/sidebarHamburger.js"></script>
  </body>
</html>
