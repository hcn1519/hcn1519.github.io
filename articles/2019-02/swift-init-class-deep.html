<!DOCTYPE html>
<html>

  <head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5VLL8HQ');</script>
  <!-- End Google Tag Manager -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5VL9R6T5ZN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5VL9R6T5ZN');
  </script>

  <!-- encoding -->
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">

  <!-- Primary Meta Tags -->
  <title>Swift init 2ë¶€ - hcn1519 DEV</title>
  <meta name="author" content="Changnam Hong">
  <meta name="title" content="Swift init 2ë¶€ - hcn1519 DEV">
  <meta name="description" content="Swiftì˜ Class ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ì— ëŒ€í•´ ì‚´í´ ë´…ë‹ˆë‹¤.">
  <meta name="theme-color" content="#f1f3f4" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Swift init 2ë¶€">
  <meta property="og:image" content="/public/assets/swiftLogo.jpg">
  <meta property="og:description" content="Swiftì˜ Class ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ì— ëŒ€í•´ ì‚´í´ ë´…ë‹ˆë‹¤.">

  <!-- CSS -->
  <link rel="stylesheet" href="/public/sass/blogTheme.scss.css" async>
  <link rel="stylesheet" href="/public/sass/menu.scss.css" async>
  <link rel="stylesheet" href="/public/sass/syntax.scss.css" async>
  <!-- Icons -->
  <link rel="icon" type="image/png" href="/icons/android-chrome-512x512.png" sizes="512x512">
  <link rel="shortcut icon" href="/icons/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon_32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon_16x16.png">
  <link rel="icon" type="image/png" href="/icons/android_chrome_192x192.png" sizes="192x192">
  <link rel="manifest" href="/icons/site.webmanifest">
  
  <!-- Fonts -->
  <link rel="preload" href="/public/fonts/Age-Normal.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/public/fonts/Mona-Sans-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/public/fonts/Mona-Sans-SemiBold.woff2" as="font" type="font/woff2" crossorigin>
  <link type="application/atom+xml" rel="alternate" href="https://hcn1519.github.io/feed.xml" title="hcn1519 DEV" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml" async>

</head>


  <body>
      <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5VLL8HQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="" title="Home">HCN</a>
            <span>DEV</span>
          
          </h3>
        </div>
      </div>
      
      <nav class="menu">
  <div class="menu-container">
    <ul class="menu-list">
      <li class="menu-item">
        <a class="menu-link" href="/">Home</a>
      </li>

      
      
        
          
        
      
        
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/about">About</a>
            </li>
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/archives/">Archives</a>
            </li>
          
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/tags/">Tags</a>
            </li>
          
        
      
    </ul>
  </div>

  <a class="menu-toggle">
    <div class="menu-hamburger"></div>
  </a>
</nav>


      <div class="column-wrapper">  
        <aside class="side-menu-in-desktop">
          <ul class="menu-list">
  <li class="menu-item">
    <a class="menu-link" href="/">Home</a>
  </li>

  
  
    
      
    
  
    
      
    
  
    
      
        <li class="menu-item">
          <a class="menu-link" href="/about">About</a>
        </li>
      
    
  
    
      
        <li class="menu-item">
          <a class="menu-link" href="/archives/">Archives</a>
        </li>
      
    
  
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
  
    
  
    
      
        <li class="menu-item">
          <a class="menu-link" href="/tags/">Tags</a>
        </li>
      
    
  
</ul>
        </aside>
        <div class="container content">
          <div class="post">
  <h2 class="post-title">Swift init 2ë¶€</h2>
  <span class="post-date">06 Feb 2019</span>
  
  <div class="post-image-feature">
    <img class="feature-image" src=
    
    "/public/assets/swiftLogo.jpg"
    
    alt="Swift init 2ë¶€ feature image">

    
  </div><!-- /.image-wrap -->
  

  

  

  
  

        
  
  
  <ul>
  <li>
    <p><a href="https://hcn1519.github.io/articles/2019-02/swift-init-class-deep#two-phase-initialization">Two Phase Initialization</a></p>
  </li>
  <li>
    <p><a href="https://hcn1519.github.io/articles/2019-02/swift-init-class-deep#two-phase-initialization---code-example">Two Phase Initialization - Code Example</a></p>
  </li>
  <li>
    <p><a href="https://hcn1519.github.io/articles/2019-02/swift-init-class-deep#two-phase-init-ê³¼ì •ì—ì„œì˜-safety-check">Two Phase init ê³¼ì •ì—ì„œì˜ Safety Check</a></p>
  </li>
</ul>

<p>Swiftì˜ ê°ì²´ ì´ˆê¸°í™” ê³¼ì •ì€ ì•ì„œì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ classì˜ ê²½ìš°ì—ì„œ ë³µì¡í•´ì§‘ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” Swiftì˜ class initì˜ ê³¼ì •ì— ëŒ€í•´ ì¢€ ë” ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ì´ì „ ê¸€ì¸ <a href="https://hcn1519.github.io/articles/2019-02/swift-init-basic">Swift init 1ë¶€</a>ë¥¼ ë¯¸ë¦¬ ì‚´í´ë³´ë©´ ë” ì¢‹ìŠµë‹ˆë‹¤.</p>

<h2 id="two-phase-initialization">Two Phase Initialization</h2>

<p>Swift classì˜ ì´ˆê¸°í™” ê³¼ì •ì€ ê³µì‹ ë¬¸ì„œì—ì„œ <strong>Two Phase Initialization</strong>ì„ ê±°ì¹œë‹¤ê³  ë§í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ë‹¤ìŒì˜ 2ê°€ì§€ì˜ ê³¼ì •ì„ ê±°ì³ class ê°ì²´ê°€ ì´ˆê¸°í™” ë©ë‹ˆë‹¤.</p>

<h3 id="phase-1">Phase 1</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">designated initializer</code> í˜¹ì€, <code class="language-plaintext highlighter-rouge">convenience initializer</code> í˜¸ì¶œí•©ë‹ˆë‹¤.</li>
  <li>ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ Memory allocationì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ë‹¤ë§Œ ì´ ë•ŒëŠ” <code class="language-plaintext highlighter-rouge">stored properties</code>ì— ë“¤ì–´ê°€ëŠ” ë°ì´í„°ì˜ í¬ê¸°ë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ì •í™•í•œ ë©”ëª¨ë¦¬ í¬ê¸°ê°€ ì„¤ì •ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">designated initializer</code>ê°€ ëª¨ë“  <code class="language-plaintext highlighter-rouge">stored properties</code>ê°€ ì„¤ì •ë˜ì—ˆëŠ”ì§€ ì²´í¬ í›„, propertyë“¤ì— ëŒ€í•œ ë©”ëª¨ë¦¬ initì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</li>
  <li>ì´ì œ <code class="language-plaintext highlighter-rouge">subClass</code>ì˜ ì‘ì—…ì„ ë§ˆì¹˜ê³  <code class="language-plaintext highlighter-rouge">superClass</code>ì—ì„œ ìœ„ì˜ ê³¼ì •ê³¼ ë™ì¼í•œ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</li>
  <li>ê³„ì¸µ êµ¬ì¡° ìµœìƒë‹¨ <code class="language-plaintext highlighter-rouge">superClass</code>ê°€ ëª¨ë“  propertiesê°€ ê°’ì´ ìˆëŠ”ì§€ í™•ì¸ í›„, init ì‘ì—…ì´ ì™„ë£Œë©ë‹ˆë‹¤.</li>
</ul>

<h3 id="phase-2">Phase 2</h3>

<ul>
  <li>Phase 1ì„ ë§ˆì¹˜ë©´ selfì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë˜ê³ , ìµœìƒë‹¨ <code class="language-plaintext highlighter-rouge">superClass</code>ëŠ” property ê°’ì„ ë³€ê²½í•  ê¸°íšŒë¥¼ ì–»ê²Œ ë©ë‹ˆë‹¤.</li>
  <li>ê°’ ë³€ê²½ì˜ ê¸°íšŒëŠ” ê³„ì¸µ êµ¬ì¡° ìµœìƒë‹¨ <code class="language-plaintext highlighter-rouge">superClass</code>ë¶€í„° ë§ˆì§€ë§‰ <code class="language-plaintext highlighter-rouge">subClass</code>ì˜ ìˆœì„œë¡œ ì£¼ì–´ì§‘ë‹ˆë‹¤.</li>
  <li>í˜„ì¬ í´ë˜ìŠ¤ì—ì„œ initì„ í˜¸ì¶œí•œ ê²ƒì´ <code class="language-plaintext highlighter-rouge">convenience initializer</code>ë¼ë©´, <code class="language-plaintext highlighter-rouge">designated initializer</code>ë¶€í„° ìš°ì„ ì ìœ¼ë¡œ selfì˜ ê°’ì„ ë³€ê²½í•  ê¸°íšŒë¥¼ ì–»ê²Œ ë©ë‹ˆë‹¤. ì´ ì‘ì—…ì„ ë§ˆì¹˜ë©´ ìµœì¢…ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">convenience initializer</code>ê°€ ê°’ì„ ë³€ê²½í•  ê¸°íšŒë¥¼ ì–»ê²Œ ë©ë‹ˆë‹¤.</li>
</ul>

<p>ìœ„ì˜ ê³¼ì •ì„ ê°„ë‹¨í•˜ê²Œ í•˜ë‚˜ì˜ ê·¸ë¦¼ìœ¼ë¡œ ìš”ì•½í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. Phase 1 ë‹¨ê³„ëŠ” initializerê°€ isa í¬ì¸í„°ë¥¼ íƒ€ê³  ìµœìƒë‹¨ <code class="language-plaintext highlighter-rouge">superClass</code>ë¡œ ì˜¬ë¼ê°€ëŠ” ë‹¨ê³„ë¥¼ ì§€ì¹­í•©ë‹ˆë‹¤. Phase 2ë‹¨ê³„ëŠ” ìµœìƒë‹¨ì—ì„œ ë‚´ë ¤ì˜¤ë©´ì„œ ìµœì¢… <code class="language-plaintext highlighter-rouge">subClass</code>ì— ë„ì°©í•œ í›„ ìµœì¢… ë©”ì†Œë“œê°€ ëë‚˜ì„œ ì¸ìŠ¤í„´ìŠ¤ê°€ ì™„ì „íˆ ì¤€ë¹„ë˜ê¸° ì§ì „ê¹Œì§€ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>

<p><img src="https://hcn1519.github.io/public/postImages/2019-02/swift_init_class_deep/phase1-2.png" /></p>

<blockquote>
  <p>Note: Two Phase Initializationì—ì„œ Phaseì˜ êµ¬ë¶„ì„ self ì ‘ê·¼ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ì„¤ëª…ë„ ì¡´ì¬í•©ë‹ˆë‹¤. ì¦‰, self ì ‘ê·¼ì´ ê°€ëŠ¥í•œ Phase -&gt; Phase 1 ë‹¨ê³„, ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° -&gt; Phase 2 ë‹¨ê³„ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ëŸ¬í•œ êµ¬ë¶„ì€ ì´ˆê¹ƒê°’ì„ ì„¤ì •í•˜ëŠ” ê²ƒê³¼ í˜¼ë™(designated initializerì—ì„œ ëª¨ë“  stored propertyì— ê°’ì´ ì„¤ì •ë˜ê¸° ì „ì— ì‚¬ìš©ë˜ëŠ” selfëŠ”  ì´ˆê¹ƒê°’ ì„¤ì •ìš©ì…ë‹ˆë‹¤.)ì´ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìœ„ì˜ ë°©ì‹ìœ¼ë¡œ ì´í•´í•˜ëŠ” ê²ƒì´ ì¢‹ì•„ ë³´ì…ë‹ˆë‹¤.</p>
</blockquote>

<h2 id="two-phase-initialization---code-example">Two Phase Initialization - Code Example</h2>

<p>ì´ì œëŠ” <strong>Two Phase Initialization</strong>ì˜ ê³¼ì •ì„ ì½”ë“œì—ì„œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê³¼ì •ì„ ìì„¸íˆ ì‚´í´ë³´ê¸° ìœ„í•´ breakpointë¥¼ ì°ì–´ì„œ ê°ê°ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SoftDrink</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">size</span><span class="p">:</span> <span class="kt">String</span>

    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Step 3</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">printHello</span><span class="p">()</span> <span class="c1">// 'self' used in method call 'printHello' before all stored properties are initialized</span>
        <span class="k">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="s">"Regular"</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">printHello</span><span class="p">()</span> <span class="c1">// ì •ìƒ ë™ì‘</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Phase 2"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"self ì ‘ê·¼ ê°€ëŠ¥"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">printHello</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"hello"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Coke</span><span class="p">:</span> <span class="kt">SoftDrink</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">price</span><span class="p">:</span> <span class="kt">Int</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Step 2</span>
        <span class="k">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="mi">1300</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">convenience</span> <span class="nf">init</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">price</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Step 1</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Phase 1"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"self ì ‘ê·¼ ë¶ˆê°€ëŠ¥"</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="k">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">price</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">coke</span> <span class="o">=</span> <span class="kt">Coke</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="s">"large"</span><span class="p">,</span> <span class="nv">price</span><span class="p">:</span> <span class="mi">2000</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="step-1">Step 1</h3>

<p><img src="https://hcn1519.github.io/public/postImages/2019-02/swift_init_class_deep/p1-self.png" /></p>

<p>ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ê°ì²´ì— ëŒ€í•œ Memory allocationì´ ì¼ì–´ë‚©ë‹ˆë‹¤. ê·¸ë˜ì„œ ìƒì„±ì í˜¸ì¶œ ì§í›„ <code class="language-plaintext highlighter-rouge">self</code>ë¥¼ ì¶œë ¥í•˜ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë©”ëª¨ë¦¬ ì£¼ì†Œê°’ì´ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(lldb) po self
&lt;Coke: 0x101c05000&gt;
</code></pre></div></div>

<p>ë‹¤ë§Œ, ì´ ë‹¨ê³„ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">stored properties</code>ê°€ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šì€ ìƒí™©ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ë™ì¼í•œ ë‹¨ê³„ì—ì„œ <code class="language-plaintext highlighter-rouge">stored properties</code>ë¥¼ ì¶œë ¥í•  ê²½ìš° í•´ë‹¹ ë°ì´í„° íƒ€ì…ì— ë§ëŠ” ì“°ë ˆê¸° ê°’ì´ ì¶œë ¥ë©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(lldb) po self.price
140736069925464 // ì´ ìˆ«ìëŠ” ì¼ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
</code></pre></div></div>

<h3 id="step-2">Step 2</h3>

<p><img src="https://hcn1519.github.io/public/postImages/2019-02/swift_init_class_deep/p2-self.png" /></p>

<p><code class="language-plaintext highlighter-rouge">designated initializer</code>ì—ì„œëŠ” í˜„ì¬ <code class="language-plaintext highlighter-rouge">subClass</code>ì˜ ëª¨ë“  <code class="language-plaintext highlighter-rouge">stored properties</code>ì— ê°’ì´ ë¶€ì—¬ë˜ì–´ ìˆëŠ”ì§€ ì²´í¬í•©ë‹ˆë‹¤. ë§Œì•½ ê°’ì´ íƒ€ì…ì— ë§ê²Œ ì ì ˆíˆ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤. ëª¨ë“  ì¡°ê±´ì„ ë§Œì¡±í•œë‹¤ë©´, ì´ì œ ì¸ìŠ¤í„´ìŠ¤ëŠ” <code class="language-plaintext highlighter-rouge">subClass</code>ì˜ <code class="language-plaintext highlighter-rouge">stored properties</code>ì˜ ê°’ì„ ì„¤ì •í•©ë‹ˆë‹¤.(initì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.) ì´ ê³¼ì •ì´ ì™„ë£Œë˜ë©´ <code class="language-plaintext highlighter-rouge">subClass</code>ì— ëŒ€í•œ ì‘ì—…ì€ ëª¨ë‘ ì™„ë£Œë˜ê³ , <code class="language-plaintext highlighter-rouge">superClass</code>ì— ëŒ€í•œ ì‘ì—…ì´ ì§„í–‰ë©ë‹ˆë‹¤.</p>

<h3 id="step-3">Step 3</h3>

<p><code class="language-plaintext highlighter-rouge">subClass</code>ì™€ ë§ˆì°¬ê°€ì§€ë¡œ <code class="language-plaintext highlighter-rouge">superClass</code>ì—ì„œë„ <code class="language-plaintext highlighter-rouge">stored properties</code>ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">SoftDrink</code>ëŠ” ê³„ì¸µ êµ¬ì¡° ìµœìƒë‹¨ì˜ í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ˆê¸°í™” ê³¼ì •ì¤‘ Phase 1 ë‹¨ê³„ëŠ” ì´ í´ë˜ìŠ¤ì—ì„œ ì¢…ë£Œë˜ëŠ”ë°, ê·¸ ì‹œì ì€ <strong><code class="language-plaintext highlighter-rouge">stored properties</code>ì— ëª¨ë“  ê°’ì´ ë“¤ì–´ê°„ ì§í›„</strong> ì…ë‹ˆë‹¤. ë§Œì•½ <code class="language-plaintext highlighter-rouge">stored properties</code>ì— ì´ˆê¹ƒê°’ì´ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šì€ ê²½ìš°ì—ëŠ” Phase 2 ë‹¨ê³„ë¡œ ë„˜ì–´ê°ˆ ìˆ˜ ì—†ê³ , selfë¥¼ í†µí•œ ë©”ì†Œë“œ í˜¸ì¶œ ë° ê°’ ë³€ê²½ ë“±ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</p>

<h3 id="step-4phase-2">Step 4(Phase 2)</h3>

<p>ì´í›„ì—ëŠ” ê³„ì¸µêµ¬ì¡°ë¥¼ íƒ€ê³  ë‚´ë ¤ì˜¤ë©´ì„œ ê°ì²´ì—ê²Œ ê°’ ë³€ê²½ì´ë‚˜ ë©”ì†Œë“œ í˜¸ì¶œì˜ ê¸°íšŒê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.</p>

<h2 id="two-phase-init-ê³¼ì •ì—ì„œì˜-safety-check">Two Phase init ê³¼ì •ì—ì„œì˜ Safety Check</h2>

<p>SwiftëŠ” initì˜ ê³¼ì •ì—ì„œ ê°œë°œìê°€ ìƒì„±ìë¥¼ ì¢€ ë” ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ Safety Check ê·œì¹™ì„ ì œê³µí•©ë‹ˆë‹¤. ì¦‰, ì´ ë£°ì„ ì§€í‚¤ì§€ ì•Šìœ¼ë©´ Swift ì»´íŒŒì¼ëŸ¬ëŠ” ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ì¼ìœ¼í‚¤ê³ , ì½”ë“œë¥¼ ìˆ˜ì •í•˜ë„ë¡ ê°€ì´ë“œí•©ë‹ˆë‹¤.</p>

<h3 id="rule-1">Rule 1</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">designated initializer</code>ì—ì„œëŠ” í˜„ì¬ í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•œ <code class="language-plaintext highlighter-rouge">stored properties</code>ì˜ ê°’ì´ delegate upë˜ê¸° ì´ì „ì— ëª¨ë‘ ì´ˆê¹ƒê°’ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤.</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="kd">class</span> <span class="kt">TestObject</span><span class="p">:</span> <span class="kt">NSObject</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">tmpValue</span><span class="p">:</span> <span class="kt">Int</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">tmpValue</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">// super.init() í˜¸ì¶œ ì´ì „ì— ê°’ì´ ê²°ì •ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ì´ ë£°ì€ ìœ„ì˜ ê²½ìš°ì—ì„œ <code class="language-plaintext highlighter-rouge">tmpValue</code>ê°€ <code class="language-plaintext highlighter-rouge">super.init()</code>ì˜ í˜¸ì¶œë³´ë‹¤ ë¨¼ì € ì„¤ì •ë˜ëŠ” ê²ƒì„ í†µí•´ ì ìš©ë©ë‹ˆë‹¤.</p>

<p>ê°ì²´ì˜ ë©”ëª¨ë¦¬ í¬ê¸°ëŠ” ëª¨ë“  <code class="language-plaintext highlighter-rouge">stored properties</code>ì˜ í¬ê¸°ë¥¼ í†µí•´ì„œ í¬ê¸°ê°€ ê²°ì •ë©ë‹ˆë‹¤. Initialization ì‘ì—…ì€ <code class="language-plaintext highlighter-rouge">subClass</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">superClass</code>ë°©í–¥ìœ¼ë¡œ ì´ë¤„ì§€ê³ , ë§ˆì§€ë§‰ ì‘ì—…ì€ ìƒì†ì˜ ê°€ì¥ ìœ„ì— ìˆëŠ” classì—ì„œ ëë‚˜ê²Œ ë©ë‹ˆë‹¤.(Phase 1 ì¢…ë£Œ) ê·¸ëŸ¬ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">subClass</code>ì˜ ë©”ëª¨ë¦¬ í¬ê¸°ëŠ” <code class="language-plaintext highlighter-rouge">superClass</code>ë¡œ ê°€ê¸° ì „ì— ì•Œê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</p>

<h3 id="rule-2">Rule 2</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">designated initializer</code>ëŠ” ìƒì†ë°›ì€ propertyì˜ ê°’ì„ ë„£ê¸° ì „ì— <code class="language-plaintext highlighter-rouge">superClass</code>ì˜ initializerë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.(delegate up)</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SuperObject</span><span class="p">:</span> <span class="kt">NSObject</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">superTmpValue</span><span class="p">:</span> <span class="kt">Int</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">superTmpValue</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">TestObject</span><span class="p">:</span> <span class="kt">SuperObject</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">tmpValue</span><span class="p">:</span> <span class="kt">Int</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">tmpValue</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="k">super</span><span class="o">.</span><span class="n">superTmpValue</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span> <span class="c1">// ë°˜ë“œì‹œ super.init() ë’¤ì— ì™€ì•¼ í•œë‹¤.</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ì¼ë°˜ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">subClass</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">superClass</code>ì˜ property ê°’ì„ ë°”ê¾¸ëŠ” ê²ƒì€ <code class="language-plaintext highlighter-rouge">superClass</code>ì˜ property ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ì´ëŸ° ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ê°’ì„ ë°”ê¿€ í•„ìš” ì—†ì´ ê·¸ëŒ€ë¡œ <code class="language-plaintext highlighter-rouge">superClass</code>ì˜ ê°’ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ëŸ°ë° <code class="language-plaintext highlighter-rouge">superClass</code>ì˜ initializerëŠ” <code class="language-plaintext highlighter-rouge">superClass</code>ì˜ <code class="language-plaintext highlighter-rouge">stored properties</code>ë¥¼ ë°˜ë“œì‹œ ì„¤ì •í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">super.init()</code> í˜¸ì¶œ ì´ì „ì— <code class="language-plaintext highlighter-rouge">subClass</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">superClass</code>ì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ê²ƒì€ ë°˜ì˜ì´ ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  ì´ëŸ° ìƒí™©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ Swift ì»´íŒŒì¼ëŸ¬ëŠ” ìƒì†ë°›ì€ propertyì˜ ê°’ì„ ë„£ê¸° ì „ì— <code class="language-plaintext highlighter-rouge">superClass</code>ì˜ initializerë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•©ë‹ˆë‹¤.</p>

<h3 id="rule-3">Rule 3</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">convenience initializer</code>ì—ì„œ propertyì— ê°’ì„ ì„¤ì •í•˜ê¸° ì „ì— <code class="language-plaintext highlighter-rouge">initializer delegation</code>ì„ ìˆ˜í–‰í•´ì•¼í•©ë‹ˆë‹¤.</li>
</ul>

<p>Rule 2ì™€ ë¹„ìŠ·í•œ ê²ƒì´ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">super.init()</code>ì´ <code class="language-plaintext highlighter-rouge">self.init()</code>ìœ¼ë¡œ ë°”ë€ ê²ƒìœ¼ë¡œ ì´í•´í•˜ë©´ ì‰½ìŠµë‹ˆë‹¤. ì¦‰, ê°’ ë³€ê²½ì„ Phase 1 ë‹¨ê³„ê°€ ì•„ë‹ˆë¼ Phase 2 ë‹¨ê³„ì—ì„œ ìˆ˜í–‰í•˜ë„ë¡ ê°•ì œí•˜ëŠ” ê·œì¹™ì…ë‹ˆë‹¤.</p>

<h3 id="rule-4">Rule 4</h3>

<ul>
  <li>Phase 1 ë‹¨ê³„ê°€ ëë‚˜ê¸° ì „ì— ì–´ë–¤ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•˜ì—¬ ê°’ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
</ul>

<p>Phase 1 ë‹¨ê³„ê°€ ì™„ë£Œë˜ë©´ ì¸ìŠ¤í„´ìŠ¤ê°€ ì´ˆê¹ƒê°’ìœ¼ë¡œ initì´ ì™„ë£Œë©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì–˜ê¸°í•˜ë©´ Phase 1 ë‹¨ê³„ì—ì„œëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ì™„ì „íˆ initì´ ë˜ì§€ ì•Šì€ ìƒíƒœì…ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— Swift ì»´íŒŒì¼ëŸ¬ëŠ” Phase 1 ë‹¨ê³„ ì´ì „ì— selfë¥¼ í†µí•œ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•˜ì—¬ ê°’ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì œí•œí•©ë‹ˆë‹¤.</p>

<hr />

<h1 id="ì°¸ê³ ìë£Œ">ì°¸ê³ ìë£Œ</h1>

<ul>
  <li><a href="https://itunes.apple.com/kr/book/the-swift-programming-language-swift-4-2/id881256329?mt=11">The Swift Programming Language (Swift 4.2)</a></li>
</ul>


<div class="related">
  
  
  
  
  
  

  

    
    

    

    

  

    
    

    

    
      
        
        <h2>ì½ì–´ ë³¼ë§Œí•œ ë‹¤ë¥¸ ê¸€</h2>
        
      <ul class="related-posts">
      
        <li>
          <h3>
            <a href="/articles/2022-04/swift_async_await">
              Swift Async Await
              <small>08 Apr 2022</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-03/atomic">
              atomic/non atomic
              <small>01 Mar 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-02/swift-init-basic">
              Swift init 1ë¶€
              <small>05 Feb 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#init">
                init
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2018-07/swift_automatic_reference_counting">
              Swift ARC
              <small>25 Jul 2018</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
        
  </ul>

  
</div>


<script>
  
  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    // dark mode
    
  }
</script>
<script src="https://utteranc.es/client.js"
        repo="hcn1519/hcn1519.github.io"
        issue-term="og:title"
        label="gets Comments ğŸ™Œ"
        theme=github-dark
        crossorigin="anonymous"
        async>
</script>
<div class="back-home">
    <a href="">< Home</a>
  </div>
</div>
        </div>
        
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="/public/js/sidebarHamburger.js"></script>
  </body>
</html>
