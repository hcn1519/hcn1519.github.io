<!DOCTYPE html>
<html>

  <head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5VLL8HQ');</script>
  <!-- End Google Tag Manager -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5VL9R6T5ZN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5VL9R6T5ZN');
  </script>

  <!-- encoding -->
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">

  <!-- Primary Meta Tags -->
  <title>Swift init 2부 - hcn1519 DEV</title>
  <meta name="author" content="Changnam Hong">
  <meta name="title" content="Swift init 2부 - hcn1519 DEV">
  <meta name="description" content="Swift의 Class 초기화 과정에서 일어나는 일에 대해 살펴 봅니다.">
  <meta name="theme-color" content="#f1f3f4" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Swift init 2부">
  <meta property="og:image" content="/public/assets/swiftLogo.jpg">
  <meta property="og:description" content="Swift의 Class 초기화 과정에서 일어나는 일에 대해 살펴 봅니다.">

  <!-- CSS -->
  <link rel="stylesheet" href="/public/sass/blogTheme.scss.css" async>
  <link rel="stylesheet" href="/public/sass/menu.scss.css" async>
  <link rel="stylesheet" href="/public/sass/syntax.scss.css" async>
  <!-- Icons -->
  <link rel="icon" type="image/png" href="/icons/android-chrome-512x512.png" sizes="512x512">
  <link rel="shortcut icon" href="/icons/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon_32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon_16x16.png">
  <link rel="icon" type="image/png" href="/icons/android_chrome_192x192.png" sizes="192x192">
  <link rel="manifest" href="/icons/site.webmanifest">
  
  <!-- Fonts -->
  <link rel="preload" href="/public/fonts/Age-Normal.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/public/fonts/Mona-Sans-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/public/fonts/Mona-Sans-SemiBold.woff2" as="font" type="font/woff2" crossorigin>
  <link type="application/atom+xml" rel="alternate" href="https://hcn1519.github.io/feed.xml" title="hcn1519 DEV" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml" async>

</head>


  <body>
      <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5VLL8HQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="" title="Home">HCN</a>
            <span>DEV</span>
          
          </h3>
        </div>
      </div>
      
      <nav class="menu">
  <div class="menu-container">
    <ul class="menu-list">
      <li class="menu-item">
        <a class="menu-link" href="/">Home</a>
      </li>

      
      
        
          
        
      
        
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/about">About</a>
            </li>
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/archives/">Archives</a>
            </li>
          
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/tags/">Tags</a>
            </li>
          
        
      
    </ul>
  </div>

  <a class="menu-toggle">
    <div class="menu-hamburger"></div>
  </a>
</nav>


      <div class="column-wrapper">  
        <aside class="side-menu-in-desktop">
          <ul class="menu-list">
  <li class="menu-item">
    <a class="menu-link" href="/">Home</a>
  </li>

  
  
    
      
    
  
    
      
    
  
    
      
        <li class="menu-item">
          <a class="menu-link" href="/about">About</a>
        </li>
      
    
  
    
      
        <li class="menu-item">
          <a class="menu-link" href="/archives/">Archives</a>
        </li>
      
    
  
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
  
    
  
    
      
        <li class="menu-item">
          <a class="menu-link" href="/tags/">Tags</a>
        </li>
      
    
  
</ul>
        </aside>
        <div class="container content">
          <div class="post">
  <h2 class="post-title">Swift init 2부</h2>
  <span class="post-date">06 Feb 2019</span>
  
  <div class="post-image-feature">
    <img class="feature-image" src=
    
    "/public/assets/swiftLogo.jpg"
    
    alt="Swift init 2부 feature image">

    
  </div><!-- /.image-wrap -->
  

  

  

  
  

        
  
  
  <ul>
  <li>
    <p><a href="https://hcn1519.github.io/articles/2019-02/swift-init-class-deep#two-phase-initialization">Two Phase Initialization</a></p>
  </li>
  <li>
    <p><a href="https://hcn1519.github.io/articles/2019-02/swift-init-class-deep#two-phase-initialization---code-example">Two Phase Initialization - Code Example</a></p>
  </li>
  <li>
    <p><a href="https://hcn1519.github.io/articles/2019-02/swift-init-class-deep#two-phase-init-과정에서의-safety-check">Two Phase init 과정에서의 Safety Check</a></p>
  </li>
</ul>

<p>Swift의 객체 초기화 과정은 앞서서 언급한 것처럼 class의 경우에서 복잡해집니다. 여기서는 Swift의 class init의 과정에 대해 좀 더 살펴보겠습니다. 이전 글인 <a href="https://hcn1519.github.io/articles/2019-02/swift-init-basic">Swift init 1부</a>를 미리 살펴보면 더 좋습니다.</p>

<h2 id="two-phase-initialization">Two Phase Initialization</h2>

<p>Swift class의 초기화 과정은 공식 문서에서 <strong>Two Phase Initialization</strong>을 거친다고 말합니다. 그래서 다음의 2가지의 과정을 거쳐 class 객체가 초기화 됩니다.</p>

<h3 id="phase-1">Phase 1</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">designated initializer</code> 혹은, <code class="language-plaintext highlighter-rouge">convenience initializer</code> 호출합니다.</li>
  <li>객체 인스턴스에 대한 Memory allocation을 수행합니다. 다만 이 때는 <code class="language-plaintext highlighter-rouge">stored properties</code>에 들어가는 데이터의 크기를 모르기 때문에 정확한 메모리 크기가 설정되어 있지 않습니다.</li>
  <li><code class="language-plaintext highlighter-rouge">designated initializer</code>가 모든 <code class="language-plaintext highlighter-rouge">stored properties</code>가 설정되었는지 체크 후, property들에 대한 메모리 init을 수행합니다.</li>
  <li>이제 <code class="language-plaintext highlighter-rouge">subClass</code>의 작업을 마치고 <code class="language-plaintext highlighter-rouge">superClass</code>에서 위의 과정과 동일한 작업을 수행합니다.</li>
  <li>계층 구조 최상단 <code class="language-plaintext highlighter-rouge">superClass</code>가 모든 properties가 값이 있는지 확인 후, init 작업이 완료됩니다.</li>
</ul>

<h3 id="phase-2">Phase 2</h3>

<ul>
  <li>Phase 1을 마치면 self에 접근할 수 있게 되고, 최상단 <code class="language-plaintext highlighter-rouge">superClass</code>는 property 값을 변경할 기회를 얻게 됩니다.</li>
  <li>값 변경의 기회는 계층 구조 최상단 <code class="language-plaintext highlighter-rouge">superClass</code>부터 마지막 <code class="language-plaintext highlighter-rouge">subClass</code>의 순서로 주어집니다.</li>
  <li>현재 클래스에서 init을 호출한 것이 <code class="language-plaintext highlighter-rouge">convenience initializer</code>라면, <code class="language-plaintext highlighter-rouge">designated initializer</code>부터 우선적으로 self의 값을 변경할 기회를 얻게 됩니다. 이 작업을 마치면 최종적으로 <code class="language-plaintext highlighter-rouge">convenience initializer</code>가 값을 변경할 기회를 얻게 됩니다.</li>
</ul>

<p>위의 과정을 간단하게 하나의 그림으로 요약하면 아래와 같습니다. Phase 1 단계는 initializer가 isa 포인터를 타고 최상단 <code class="language-plaintext highlighter-rouge">superClass</code>로 올라가는 단계를 지칭합니다. Phase 2단계는 최상단에서 내려오면서 최종 <code class="language-plaintext highlighter-rouge">subClass</code>에 도착한 후 최종 메소드가 끝나서 인스턴스가 완전히 준비되기 직전까지를 의미합니다.</p>

<p><img src="https://hcn1519.github.io/public/postImages/2019-02/swift_init_class_deep/phase1-2.png" /></p>

<blockquote>
  <p>Note: Two Phase Initialization에서 Phase의 구분을 self 접근을 기준으로 나누는 설명도 존재합니다. 즉, self 접근이 가능한 Phase -&gt; Phase 1 단계, 그렇지 않은 경우 -&gt; Phase 2 단계로 나누는 것입니다. 이러한 구분은 초깃값을 설정하는 것과 혼동(designated initializer에서 모든 stored property에 값이 설정되기 전에 사용되는 self는  초깃값 설정용입니다.)이 될 수 있기 때문에 위의 방식으로 이해하는 것이 좋아 보입니다.</p>
</blockquote>

<h2 id="two-phase-initialization---code-example">Two Phase Initialization - Code Example</h2>

<p>이제는 <strong>Two Phase Initialization</strong>의 과정을 코드에서 살펴보겠습니다. 과정을 자세히 살펴보기 위해 breakpoint를 찍어서 각각을 살펴보겠습니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SoftDrink</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">size</span><span class="p">:</span> <span class="kt">String</span>

    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Step 3</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">printHello</span><span class="p">()</span> <span class="c1">// 'self' used in method call 'printHello' before all stored properties are initialized</span>
        <span class="k">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="s">"Regular"</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">printHello</span><span class="p">()</span> <span class="c1">// 정상 동작</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Phase 2"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"self 접근 가능"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">printHello</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"hello"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Coke</span><span class="p">:</span> <span class="kt">SoftDrink</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">price</span><span class="p">:</span> <span class="kt">Int</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Step 2</span>
        <span class="k">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="mi">1300</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">convenience</span> <span class="nf">init</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">price</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Step 1</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Phase 1"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"self 접근 불가능"</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="k">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">price</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">coke</span> <span class="o">=</span> <span class="kt">Coke</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="s">"large"</span><span class="p">,</span> <span class="nv">price</span><span class="p">:</span> <span class="mi">2000</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="step-1">Step 1</h3>

<p><img src="https://hcn1519.github.io/public/postImages/2019-02/swift_init_class_deep/p1-self.png" /></p>

<p>생성자를 호출하게 되면 객체에 대한 Memory allocation이 일어납니다. 그래서 생성자 호출 직후 <code class="language-plaintext highlighter-rouge">self</code>를 출력하게 되면 아래와 같은 메모리 주소값이 설정되어 있습니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(lldb) po self
&lt;Coke: 0x101c05000&gt;
</code></pre></div></div>

<p>다만, 이 단계에서는 <code class="language-plaintext highlighter-rouge">stored properties</code>가 설정되어 있지 않은 상황입니다. 그래서 동일한 단계에서 <code class="language-plaintext highlighter-rouge">stored properties</code>를 출력할 경우 해당 데이터 타입에 맞는 쓰레기 값이 출력됩니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(lldb) po self.price
140736069925464 // 이 숫자는 일정하지 않습니다.
</code></pre></div></div>

<h3 id="step-2">Step 2</h3>

<p><img src="https://hcn1519.github.io/public/postImages/2019-02/swift_init_class_deep/p2-self.png" /></p>

<p><code class="language-plaintext highlighter-rouge">designated initializer</code>에서는 현재 <code class="language-plaintext highlighter-rouge">subClass</code>의 모든 <code class="language-plaintext highlighter-rouge">stored properties</code>에 값이 부여되어 있는지 체크합니다. 만약 값이 타입에 맞게 적절히 설정되어 있지 않다면 컴파일 에러가 발생합니다. 모든 조건을 만족한다면, 이제 인스턴스는 <code class="language-plaintext highlighter-rouge">subClass</code>의 <code class="language-plaintext highlighter-rouge">stored properties</code>의 값을 설정합니다.(init을 수행합니다.) 이 과정이 완료되면 <code class="language-plaintext highlighter-rouge">subClass</code>에 대한 작업은 모두 완료되고, <code class="language-plaintext highlighter-rouge">superClass</code>에 대한 작업이 진행됩니다.</p>

<h3 id="step-3">Step 3</h3>

<p><code class="language-plaintext highlighter-rouge">subClass</code>와 마찬가지로 <code class="language-plaintext highlighter-rouge">superClass</code>에서도 <code class="language-plaintext highlighter-rouge">stored properties</code>를 설정합니다. 그리고 <code class="language-plaintext highlighter-rouge">SoftDrink</code>는 계층 구조 최상단의 클래스입니다. 그래서 초기화 과정중 Phase 1 단계는 이 클래스에서 종료되는데, 그 시점은 <strong><code class="language-plaintext highlighter-rouge">stored properties</code>에 모든 값이 들어간 직후</strong> 입니다. 만약 <code class="language-plaintext highlighter-rouge">stored properties</code>에 초깃값이 설정되어 있지 않은 경우에는 Phase 2 단계로 넘어갈 수 없고, self를 통한 메소드 호출 및 값 변경 등은 불가능합니다.</p>

<h3 id="step-4phase-2">Step 4(Phase 2)</h3>

<p>이후에는 계층구조를 타고 내려오면서 객체에게 값 변경이나 메소드 호출의 기회가 주어집니다.</p>

<h2 id="two-phase-init-과정에서의-safety-check">Two Phase init 과정에서의 Safety Check</h2>

<p>Swift는 init의 과정에서 개발자가 생성자를 좀 더 안전하게 사용할 수 있도록 Safety Check 규칙을 제공합니다. 즉, 이 룰을 지키지 않으면 Swift 컴파일러는 컴파일 에러를 일으키고, 코드를 수정하도록 가이드합니다.</p>

<h3 id="rule-1">Rule 1</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">designated initializer</code>에서는 현재 클래스에서 정의한 <code class="language-plaintext highlighter-rouge">stored properties</code>의 값이 delegate up되기 이전에 모두 초깃값을 가지고 있어야 한다.</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="kd">class</span> <span class="kt">TestObject</span><span class="p">:</span> <span class="kt">NSObject</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">tmpValue</span><span class="p">:</span> <span class="kt">Int</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">tmpValue</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">// super.init() 호출 이전에 값이 결정되어야 합니다.</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>이 룰은 위의 경우에서 <code class="language-plaintext highlighter-rouge">tmpValue</code>가 <code class="language-plaintext highlighter-rouge">super.init()</code>의 호출보다 먼저 설정되는 것을 통해 적용됩니다.</p>

<p>객체의 메모리 크기는 모든 <code class="language-plaintext highlighter-rouge">stored properties</code>의 크기를 통해서 크기가 결정됩니다. Initialization 작업은 <code class="language-plaintext highlighter-rouge">subClass</code>에서 <code class="language-plaintext highlighter-rouge">superClass</code>방향으로 이뤄지고, 마지막 작업은 상속의 가장 위에 있는 class에서 끝나게 됩니다.(Phase 1 종료) 그러므로 <code class="language-plaintext highlighter-rouge">subClass</code>의 메모리 크기는 <code class="language-plaintext highlighter-rouge">superClass</code>로 가기 전에 알고 있어야 합니다.</p>

<h3 id="rule-2">Rule 2</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">designated initializer</code>는 상속받은 property의 값을 넣기 전에 <code class="language-plaintext highlighter-rouge">superClass</code>의 initializer를 호출해야 한다.(delegate up)</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SuperObject</span><span class="p">:</span> <span class="kt">NSObject</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">superTmpValue</span><span class="p">:</span> <span class="kt">Int</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">superTmpValue</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">TestObject</span><span class="p">:</span> <span class="kt">SuperObject</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">tmpValue</span><span class="p">:</span> <span class="kt">Int</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">tmpValue</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="k">super</span><span class="o">.</span><span class="n">superTmpValue</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span> <span class="c1">// 반드시 super.init() 뒤에 와야 한다.</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>일반적으로 <code class="language-plaintext highlighter-rouge">subClass</code>에서 <code class="language-plaintext highlighter-rouge">superClass</code>의 property 값을 바꾸는 것은 <code class="language-plaintext highlighter-rouge">superClass</code>의 property 값을 그대로 사용하지 않는 경우입니다. 이런 경우가 아니라면 값을 바꿀 필요 없이 그대로 <code class="language-plaintext highlighter-rouge">superClass</code>의 값을 사용하면 됩니다. 그런데 <code class="language-plaintext highlighter-rouge">superClass</code>의 initializer는 <code class="language-plaintext highlighter-rouge">superClass</code>의 <code class="language-plaintext highlighter-rouge">stored properties</code>를 반드시 설정합니다. 그래서 <code class="language-plaintext highlighter-rouge">super.init()</code> 호출 이전에 <code class="language-plaintext highlighter-rouge">subClass</code>에서 <code class="language-plaintext highlighter-rouge">superClass</code>의 값을 변경하는 것은 반영이 되지 않을 수 있습니다.  이런 상황을 방지하기 위해 Swift 컴파일러는 상속받은 property의 값을 넣기 전에 <code class="language-plaintext highlighter-rouge">superClass</code>의 initializer를 호출하도록 합니다.</p>

<h3 id="rule-3">Rule 3</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">convenience initializer</code>에서 property에 값을 설정하기 전에 <code class="language-plaintext highlighter-rouge">initializer delegation</code>을 수행해야합니다.</li>
</ul>

<p>Rule 2와 비슷한 것이지만, <code class="language-plaintext highlighter-rouge">super.init()</code>이 <code class="language-plaintext highlighter-rouge">self.init()</code>으로 바뀐 것으로 이해하면 쉽습니다. 즉, 값 변경을 Phase 1 단계가 아니라 Phase 2 단계에서 수행하도록 강제하는 규칙입니다.</p>

<h3 id="rule-4">Rule 4</h3>

<ul>
  <li>Phase 1 단계가 끝나기 전에 어떤 메소드를 호출하거나 프로퍼티에 접근하여 값을 사용하는 것이 불가능합니다.</li>
</ul>

<p>Phase 1 단계가 완료되면 인스턴스가 초깃값으로 init이 완료됩니다. 반대로 얘기하면 Phase 1 단계에서는 인스턴스가 완전히 init이 되지 않은 상태입니다. 그렇기 때문에 Swift 컴파일러는 Phase 1 단계 이전에 self를 통한 메소드를 호출하거나 프로퍼티에 접근하여 값을 사용하는 것을 제한합니다.</p>

<hr />

<h1 id="참고자료">참고자료</h1>

<ul>
  <li><a href="https://itunes.apple.com/kr/book/the-swift-programming-language-swift-4-2/id881256329?mt=11">The Swift Programming Language (Swift 4.2)</a></li>
</ul>


<div class="related">
  
  
  
  
  
  

  

    
    

    

    

  

    
    

    

    
      
        
        <h2>읽어 볼만한 다른 글</h2>
        
      <ul class="related-posts">
      
        <li>
          <h3>
            <a href="/articles/2022-04/swift_async_await">
              Swift Async Await
              <small>08 Apr 2022</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-03/atomic">
              atomic/non atomic
              <small>01 Mar 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-02/swift-init-basic">
              Swift init 1부
              <small>05 Feb 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#init">
                init
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2018-07/swift_automatic_reference_counting">
              Swift ARC
              <small>25 Jul 2018</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
        
  </ul>

  
</div>


<script>
  
  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    // dark mode
    
  }
</script>
<script src="https://utteranc.es/client.js"
        repo="hcn1519/hcn1519.github.io"
        issue-term="og:title"
        label="gets Comments 🙌"
        theme=github-dark
        crossorigin="anonymous"
        async>
</script>
<div class="back-home">
    <a href="">< Home</a>
  </div>
</div>
        </div>
        
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="/public/js/sidebarHamburger.js"></script>
  </body>
</html>
