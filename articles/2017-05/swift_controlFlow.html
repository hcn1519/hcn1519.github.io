<!DOCTYPE html>
<html lang="ko">

  <head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5VLL8HQ');</script>
  <!-- End Google Tag Manager -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5VL9R6T5ZN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5VL9R6T5ZN');
  </script>

  <!-- encoding -->
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!-- Primary Meta Tags -->
  <title>Swift ControlFlow - hcn1519 Dev Post</title>
  <meta name="author" content="Changnam Hong">
  <meta name="title" content="Swift ControlFlow - hcn1519 Dev Post">
  <meta name="description" content="Swift의 Value binding, fallthrough, Labeled Statement, guard에 대해 알아봅니다.">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#1d1d1d" media="(prefers-color-scheme: dark)">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Swift ControlFlow">
  <meta property="og:image" content="/public/assets/swiftLogo.jpg">
  <meta property="og:description" content="Swift의 Value binding, fallthrough, Labeled Statement, guard에 대해 알아봅니다.">

  <!-- CSS -->
  <link rel="stylesheet" href="/public/sass/blogTheme.scss.css" async>
  <link rel="stylesheet" href="/public/sass/menu.scss.css" async>
  <link rel="stylesheet" href="/public/sass/syntax.scss.css" async>
  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="57x57" href="/public/favicon/apple-icon-57x57.png" async>
  <link rel="apple-touch-icon" sizes="60x60" href="/public/favicon/apple-icon-60x60.png" async>
  <link rel="apple-touch-icon" sizes="72x72" href="/public/favicon/apple-icon-72x72.png" async>
  <link rel="apple-touch-icon" sizes="76x76" href="/public/favicon/apple-icon-76x76.png" async>
  <link rel="apple-touch-icon" sizes="114x114" href="/public/favicon/apple-icon-114x114.png" async>
  <link rel="apple-touch-icon" sizes="120x120" href="/public/favicon/apple-icon-120x120.png" async>
  <link rel="apple-touch-icon" sizes="144x144" href="/public/favicon/apple-icon-144x144.png" async>
  <link rel="apple-touch-icon" sizes="152x152" href="/public/favicon/apple-icon-152x152.png" async>
  <link rel="apple-touch-icon" sizes="180x180" href="/public/favicon/apple-icon-180x180.png" async>
  <link rel="icon" type="image/png" sizes="192x192"  href="/public/favicon/android-icon-192x192.png" async>
  <link rel="icon" type="image/png" sizes="32x32" href="/public/favicon/favicon-32x32.png" async>
  <link rel="icon" type="image/png" sizes="96x96" href="/public/favicon/favicon-96x96.png" async>
  <link rel="icon" type="image/png" sizes="16x16" href="/public/favicon/favicon-16x16.png" async>
  <link rel="manifest" href="/public/favicon/manifest.json" async>
  
  <link type="application/atom+xml" rel="alternate" href="https://hcn1519.github.io/feed.xml" title="hcn1519 Dev Post" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml" async>

</head>


  <body>
      <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5VLL8HQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="wrap">
      <nav class="menu">
  <div class="menu-container">
    <ul class="menu-list">
      <li class="menu-item">
        <a class="menu-link" href="/">Home</a>
      </li>
      

      
      
        
          
        
      
        
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/about">About</a>
            </li>
          
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/archives/">Archives</a>
            </li>
          
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
          
            <li class="menu-item">
              <a class="menu-link" href="/tags/">Tags</a>
            </li>
          
        
      
    </ul>
  </div>

  <a class="menu-toggle">
    <div class="menu-hamburger"></div>
  </a>
</nav>

      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="" title="Home">CNH</a>
            <small>Dev Post</small>
            <span style="font-size: medium;text-align: right;float: right;margin-top: 3.5px;">
              <small>
              
              <a href="/en">Read in English</a>
              
              </small>
            </span>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h2 class="post-title">Swift ControlFlow</h2>
  <span class="post-date">10 May 2017</span>
  
  <div class="post-image-feature">
    <img class="feature-image" src=
    
    "/public/assets/swiftLogo.jpg"
    
    alt="Swift ControlFlow feature image">

    
  </div><!-- /.image-wrap -->
  

  

  

  
  

        
  
  
  <p>일반적으로 프로그래밍 언어를 익힐 때, <strong>ControlFlow</strong> 라 하면 <code class="language-plaintext highlighter-rouge">if</code> 구문과 같은 것들을 활용하여 프로그램이 원하는 방향으로 작동되도록 하는 것을 말합니다. 여기서는 대부분 언어에서 발견할 수 있는 <code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">switch</code>, <code class="language-plaintext highlighter-rouge">continue</code>, <code class="language-plaintext highlighter-rouge">break</code> 등에 대해 알아보기 보다는 Swift에서 발견할 수 있는 특징적인 <strong>ControlFlow</strong> 에 대해 알아보도록 하겠습니다.</p>

<h2 id="value-binding">Value binding</h2>

<div class="message">
  Value binding은 switch문 실행시 조건문 안에서 활용할 수 있는 변수를 할당하는 것을 말합니다.
</div>

<p><code class="language-plaintext highlighter-rouge">Value binding</code>의 예제를 살펴보겠습니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">myCondition</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">switch</span> <span class="n">myCondition</span> <span class="p">{</span>
<span class="k">case</span> <span class="k">let</span> <span class="nv">con</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Condition이 </span><span class="se">\(</span><span class="n">con</span><span class="se">)</span><span class="s">입니다."</span><span class="p">)</span>
<span class="k">case</span> <span class="k">let</span> <span class="nv">con</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Condition2 : </span><span class="se">\(</span><span class="n">con</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="k">default</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Switch default"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// 결과 : Condition이 10입니다.</span></code></pre></figure>

<p>위의 예제에서 <code class="language-plaintext highlighter-rouge">case let con:</code>은 해당 case의 구문 안에서 <code class="language-plaintext highlighter-rouge">con</code>이라는 변수를 사용할 수 있도록 해줍니다. 이것이 바로 <code class="language-plaintext highlighter-rouge">Value binding</code>입니다. 그런데 조금 의아한 부분이 있습니다. <code class="language-plaintext highlighter-rouge">Value binding</code> 자체가 하나의 조건이 될 수 있나하는 것인데, 테스트해보니 <code class="language-plaintext highlighter-rouge">Value binding</code>은 기본적으로 true가 되네요. <code class="language-plaintext highlighter-rouge">Value binding</code>은 모양 자체가 <code class="language-plaintext highlighter-rouge">if</code>에서 쓸 수 있는 <code class="language-plaintext highlighter-rouge">Optional binding</code>과 형태가 유사합니다. 다만 <code class="language-plaintext highlighter-rouge">Value binding</code>은 Optional 값을 unwrap 해주지는 않습니다. 반대로 <code class="language-plaintext highlighter-rouge">Optional binding</code>은 Optional 값일 때만 사용할 수 있는 차이점이 있습니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">test</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?</span>
<span class="n">test</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">switch</span> <span class="n">test</span> <span class="p">{</span>
<span class="k">case</span> <span class="k">let</span> <span class="nv">con</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"값 - </span><span class="se">\(</span><span class="n">con</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">if</span> <span class="k">let</span> <span class="nv">val</span> <span class="o">=</span> <span class="n">test</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"값 - </span><span class="se">\(</span><span class="n">val</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// 결과 : 값 - Optional(3)</span>
<span class="c1">//        값 - 3</span></code></pre></figure>

<h2 id="where">Where</h2>

<div class="message">
  Where는 switch문 실행시 case에 추가적인 조건을 주는 기능을 합니다.
</div>

<p><code class="language-plaintext highlighter-rouge">Where</code>는 case 자체의 조건에 추가적인 조건을 부여할 수 있도록 해줍니다. 예시를 살펴보겠습니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">myCondition</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">let</span> <span class="nv">condition2</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">switch</span> <span class="n">myCondition</span> <span class="p">{</span>
<span class="k">case</span> <span class="mi">10</span> <span class="k">where</span> <span class="n">condition2</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"조건을 만족합니다."</span><span class="p">)</span>
<span class="k">default</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Switch default"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// 결과 : 조건을 만족합니다.</span></code></pre></figure>

<p>여기서 <code class="language-plaintext highlighter-rouge">myCondition</code>이 10인 case의 조건과 <code class="language-plaintext highlighter-rouge">condition2</code>가 5보다 작은 두 가지 조건을 모두 만족해야만 <code class="language-plaintext highlighter-rouge">조건을 만족합니다.</code>가 출력됩니다. 쉽게 생각하면 if의 <code class="language-plaintext highlighter-rouge">&amp;&amp;</code>로 조건을 연결하는 것을 생각하시면 됩니다.</p>

<h2 id="fallthrough">Fallthrough</h2>

<p><code class="language-plaintext highlighter-rouge">fallthrough</code>는 <code class="language-plaintext highlighter-rouge">switch</code>와 연관된 키워드로 <code class="language-plaintext highlighter-rouge">switch</code>를 사용할 때, 코드 순서상의 다음 조건문을 실행시켜 줍니다. 이 때, 다음 조건문이 없다면 컴파일 에러가 발생합니다. Swift의 <code class="language-plaintext highlighter-rouge">switch</code>는 case별로 <code class="language-plaintext highlighter-rouge">break</code>를 따로 작성해주지 않아도 해당 case의 조건을 만족한다면, 그 case의 내용만 실행하고 <code class="language-plaintext highlighter-rouge">switch</code>에서 빠져나오게 됩니다. 그런데 여기서 <code class="language-plaintext highlighter-rouge">fallthrough</code>는 <code class="language-plaintext highlighter-rouge">fallthrough</code>가 작성된 시점에서 case를 더이상 실행하지 않고, 바로 다음 조건문을 실행하고, <code class="language-plaintext highlighter-rouge">switch</code>를 종료합니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">enum</span> <span class="kt">MyCase</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">myCase</span> <span class="o">=</span> <span class="kt">MyCase</span><span class="o">.</span><span class="n">a</span>

<span class="k">switch</span> <span class="n">myCase</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">a</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span>
    <span class="k">fallthrough</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"after a"</span><span class="p">)</span> <span class="c1">// will never be executed</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">c</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"c"</span><span class="p">)</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">b</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"b"</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 결과 : a c</span>

<span class="k">switch</span> <span class="n">myCase</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="o">.</span><span class="nv">c</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"a b c"</span><span class="p">)</span>
    <span class="k">fallthrough</span> <span class="c1">// 'fallthrough' without a following 'case' or 'default' block</span>
<span class="p">}</span></code></pre></figure>

<ol>
  <li><code class="language-plaintext highlighter-rouge">fallthrough</code>는 조건문 작성 순서에 영향을 받습니다. 위의 예시에서 a 다음 b가 아닌 c가 출력된 것에서 이를 확인할 수 있습니다. 조건을 a 다음 b로 쓴다면 a, b가 출력됩니다.</li>
  <li><code class="language-plaintext highlighter-rouge">fallthrough</code>는 실행할 다음 조건문이 없다면 컴파일 에러가 발생합니다.</li>
</ol>

<h2 id="labeled-statement">Labeled Statement</h2>

<p>Swift에서는 <code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">switch</code>, 혹은 <code class="language-plaintext highlighter-rouge">Loop</code>에 이름을 부여할 수 있습니다. 이렇게 부여된 이름은 여러개가 중첩된 조건문, 반복문에서 어떤 것을 <code class="language-plaintext highlighter-rouge">break</code>하고 <code class="language-plaintext highlighter-rouge">continue</code>할지를 명시할 수 있게 해줍니다. 이름은 해당 조건문, 반복문 시작에 쓰입니다. 예제를 살펴보겠습니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">myCondition</span> <span class="o">=</span> <span class="mi">10</span>

<span class="kt">LoopOne</span><span class="p">:</span> <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">...</span><span class="mi">5</span> <span class="p">{</span>
    <span class="nv">switchOne</span><span class="p">:</span> <span class="k">switch</span> <span class="n">myCondition</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">10</span> <span class="k">where</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"조건을 만족합니다."</span><span class="p">)</span>
        <span class="k">break</span> <span class="n">switchOne</span>
    <span class="k">default</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Switch default"</span><span class="p">)</span>
        <span class="k">break</span> <span class="kt">LoopOne</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// 결과 : 조건을 만족합니다.</span>
<span class="c1">//        조건을 만족합니다.</span>
<span class="c1">//        Switch default</span></code></pre></figure>

<p>위의 예제에서 나오는 for 루프는 <code class="language-plaintext highlighter-rouge">LoopOne</code>이라는 이름을 갖게 됩니다. 또한 switch 구문은 <code class="language-plaintext highlighter-rouge">switchOne</code>이라는 이름을 갖습니다.(이름을 갖는 것일 뿐, 객체로 활용할 수 있는 것은 아닙니다.) 그에 따라 <code class="language-plaintext highlighter-rouge">break 이름</code>이라는 형태를 사용할 수 있습니다. 특정 조건문, 반복문을 멈추는 것을 명시적으로 보여줄 수 있도록 해주는 것입니다.</p>

<h2 id="guard">guard</h2>

<p><code class="language-plaintext highlighter-rouge">guard</code>도 <code class="language-plaintext highlighter-rouge">if</code>나 <code class="language-plaintext highlighter-rouge">switch</code> 같은 조건문을 만드는 데 쓰이는 것입니다. 독특한 점은 항상 <code class="language-plaintext highlighter-rouge">else</code>를 동반한다는 점입니다. 그 기본 형태는 아래와 같습니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">guard</span> <span class="n">조건</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// 조건을 만족하지 않으면 실행</span>
<span class="p">}</span>
<span class="c1">// 조건 만족시 계속 진행</span></code></pre></figure>

<p>형태는 이렇습니다만, <code class="language-plaintext highlighter-rouge">if</code>처럼 아무데나 쉽게 쓸 수 있지는 않습니다. 왜냐하면 <code class="language-plaintext highlighter-rouge">guard</code>는 <strong>실행되는 위치(enclosing scope)에서 벗어나는 것</strong> 을 항상 필요로 하기 때문입니다. 그래서 일반적으로 main thread에서 쉽게 <code class="language-plaintext highlighter-rouge">if</code>를 쓰는 것과는 달리, <code class="language-plaintext highlighter-rouge">guard</code>를 사용하게 되면 main thread를 빠져나가는(프로그램이 꺼지거나 죽는) 것을 만들어주어야 하는 것을 필요로 하므로 거의 사용하지 않습니다.(혹시 사용하는 예제가 있다면 알려주시면 감사하겠습니다.)</p>

<p><code class="language-plaintext highlighter-rouge">guard</code>는 이러한 이유 때문에 주로 함수 안에서, 함수를 return하는 조건(실행되는 위치에서 벗어나는 조건)과 함께 사용됩니다. 예제를 살펴보면 다음과 같습니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">hello</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">guard</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"else 안입니다."</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">hello</span><span class="p">())</span>
<span class="c1">// 결과 : 1</span></code></pre></figure>

<p>위의 예제에서 <code class="language-plaintext highlighter-rouge">a==1</code>이라는 조건은 만족되므로, <code class="language-plaintext highlighter-rouge">else</code> 안은 실행되지 않고 그대로 통과합니다. 그러므로 1이 return 됩니다.</p>

<h2 id="guard-with-optional-binding">guard with Optional binding</h2>

<p><code class="language-plaintext highlighter-rouge">guard</code>가 많이 사용되는 경우는 <code class="language-plaintext highlighter-rouge">Optional Binding</code>을 할 경우입니다. <code class="language-plaintext highlighter-rouge">guard</code>의 조건문은 <code class="language-plaintext highlighter-rouge">if</code> 조건문에서처럼 <code class="language-plaintext highlighter-rouge">Optional Binding</code>을 활용할 수 있습니다. 이 때, 값이 nil이 아니어서 변수가 할당 된다면 이는 <code class="language-plaintext highlighter-rouge">guard</code>가 끝난 후에도 남아 있어서 값이 unwrap된 상태로 사용할 수 있습니다. 예시를 봐보겠습니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">myPrint</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">?)</span> <span class="p">{</span>
    <span class="k">guard</span> <span class="k">let</span> <span class="nv">name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"exiting..."</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"이름 - </span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">myPrint</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Tom"</span><span class="p">)</span>
<span class="nf">myPrint</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

<span class="c1">// 결과 : 이름 - Tom</span>
<span class="c1">//        exiting...</span></code></pre></figure>

<p>위의 예시에서 name은 <code class="language-plaintext highlighter-rouge">guard</code>를 통해 unwrap되고, <code class="language-plaintext highlighter-rouge">guard</code>가 끝난 후에도 남아 있습니다. 그렇기 때문에 <code class="language-plaintext highlighter-rouge">print</code>에서 name은 unwrap된 상태가 되고 Tom이 출력됩니다. 이 때, name의 값이 nil이라면 <code class="language-plaintext highlighter-rouge">exiting...</code>이 출력되면서 함수는 return됩니다.</p>

<h2 id="guard-in-practice">guard in Practice</h2>

<p><code class="language-plaintext highlighter-rouge">guard</code>의 가장 큰 장점은 가독성을 높여주는 것에 있습니다. 사용자가 회원가입을 하는 경우를 생각해보겠습니다. 이 때, 올바른 정보를 받기 위해서는 사용자가 어떤 정보를 누락하고, 어떤 정보를 입력했는지를 정확히 알 필요가 있습니다. 사용자에게 이름, 이메일, 비밀번호의 정보를 받는 회원가입을 할 경우를 <code class="language-plaintext highlighter-rouge">if let</code>으로 작성해보면 아래와 같습니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">checkValidation</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">name</span> <span class="o">=</span> <span class="n">nameLabel</span><span class="o">.</span><span class="n">text</span> <span class="p">{</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="n">emailLabel</span><span class="o">.</span><span class="n">text</span> <span class="k">where</span> <span class="n">email</span><span class="o">.</span><span class="nf">containsString</span><span class="p">(</span><span class="s">"@"</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="k">let</span> <span class="nv">password</span> <span class="o">=</span> <span class="n">passwordLabel</span><span class="o">.</span><span class="n">text</span> <span class="p">{</span>
        <span class="c1">// 모든 경우 만족</span>
        <span class="k">let</span> <span class="nv">newUser</span> <span class="o">=</span> <span class="kt">User</span><span class="p">()</span>
        <span class="n">newUser</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">newUser</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="n">email</span>
        <span class="n">newUser</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// 비밀번호 nil</span>
        <span class="n">passwordLabel</span><span class="o">.</span><span class="nf">becomeFirstResponder</span><span class="p">()</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// 이메일 nil 혹은 @ 없음</span>
      <span class="n">emailLabel</span><span class="o">.</span><span class="nf">becomeFirstResponder</span><span class="p">()</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// 이름 nil</span>
    <span class="n">nameLabel</span><span class="o">.</span><span class="nf">becomeFirstResponder</span><span class="p">()</span>
  <span class="p">}</span>  
<span class="p">}</span></code></pre></figure>

<p>유저의 정보가 올바르게 입력됐는지 확인하기 위해서는 이처럼 중첩으로 <code class="language-plaintext highlighter-rouge">if let</code>을 사용해야 합니다. 이는 정보가 많아지면 잘못된 부분을 쉽게 고치기 어렵습니다. 이 때 <code class="language-plaintext highlighter-rouge">guard</code> 를 쓰면 가독성이 매우 좋아집니다. 위의 내용을 <code class="language-plaintext highlighter-rouge">guard</code>를 활용해서 써보면 다음과 같습니다.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">checkValidation</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">guard</span> <span class="k">let</span> <span class="nv">name</span> <span class="o">=</span> <span class="n">nameLabel</span><span class="o">.</span><span class="n">text</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// 이름 nil</span>
      <span class="n">nameLabel</span><span class="o">.</span><span class="nf">becomeFirstResponder</span><span class="p">()</span>
      <span class="k">return</span>
  <span class="p">}</span>
  <span class="k">guard</span> <span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="n">emailLabel</span><span class="o">.</span><span class="n">text</span> <span class="k">where</span> <span class="n">email</span><span class="o">.</span><span class="nf">containsString</span><span class="p">(</span><span class="s">"@"</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// 이메일 nil 혹은 @ 없음</span>
      <span class="n">emailLabel</span><span class="o">.</span><span class="nf">becomeFirstResponder</span><span class="p">()</span>
      <span class="k">return</span>
  <span class="p">}</span>
  <span class="k">guard</span> <span class="k">let</span> <span class="nv">password</span> <span class="o">=</span> <span class="n">passwordLabel</span><span class="o">.</span><span class="n">text</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// 비밀번호 nil</span>
      <span class="n">passwordLabel</span><span class="o">.</span><span class="nf">becomeFirstResponder</span><span class="p">()</span>
      <span class="k">return</span>
  <span class="p">}</span>

  <span class="c1">// 모든 경우 만족</span>
  <span class="k">let</span> <span class="nv">newUser</span> <span class="o">=</span> <span class="kt">User</span><span class="p">()</span>
  <span class="n">newUser</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
  <span class="n">newUser</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="n">email</span>
  <span class="n">newUser</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>
<span class="p">}</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">guard</code>를 사용하면, 중첩으로 조건문을 사용하는 것을 방지할 수 있고 코드의 가독성이 좋아집니다. 이외에도 json 데이터를 parsing할 경우에도 누락된 데이터를 파악하기 위한 조건문을 작성할 때 코드의 가독성이 높아지게 만들 수 있습니다.</p>

<hr />

<h2 id="참고자료">참고자료</h2>
<ul>
  <li>Apple Inc. The Swift Programming Language (Swift 3.1)</li>
  <li>Raywenderlich - Optional</li>
  <li><a href="&quot;http://stackoverflow.com/questions/32256834/swift-guard-vs-if-let&quot;">swift guard vs if let</a></li>
</ul>


<div class="related">
  
  
  
  
  
  

  

    
    

    

    

  

    
    

    

    
      
        
        <h2>읽어 볼만한 다른 글</h2>
        
      <ul class="related-posts">
      
        <li>
          <h3>
            <a href="/articles/2022-04/swift_async_await">
              Swift Async Await
              <small>08 Apr 2022</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-03/atomic">
              atomic/non atomic
              <small>01 Mar 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-02/swift-init-class-deep">
              Swift init 2부
              <small>06 Feb 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
    

  

    
    

    

    
      
        <li>
          <h3>
            <a href="/articles/2019-02/swift-init-basic">
              Swift init 1부
              <small>05 Feb 2019</small>
            </a>
            <small> 
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Swift">
                Swift
              </a>
            </div>
           
            <div class="tag-chips">
              <a class="tag-link" href="/tags/#Language">
                Language
              </a>
            </div>
          </small>
          </h3>
        </li>
      </li>
      
      
        
  </ul>

  
</div>


<script>
  
  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    // dark mode
    
  }
</script>
<script src="https://utteranc.es/client.js"
        repo="hcn1519/hcn1519.github.io"
        issue-term="og:title"
        label="gets Comments 🙌"
        theme=github-dark
        crossorigin="anonymous"
        async>
</script>

<div class="back-home">
    <a href="">< Home</a>
  </div>
</div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="/public/js/sidebarHamburger.js"></script>
  </body>
</html>
